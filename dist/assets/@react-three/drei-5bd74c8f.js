import{r as I,u as fe,a as ni,_ as zr,b as ri,e as Ru,c as rf}from"./fiber-426da065.js";import{c as wt,D as sl,O as il,P as ol,j as Du,I as sf,k as of,l as Iu,m as nn,F as Ds,C as We,n as lf,o as af,p as uf,q as dr,s as Ut,r as dn,V as xu,t as cf,u as df,v as ff,w as hf,x as Is,y as Nn,z as Lu,E as so,G as pf,M as yi,H as mf,J as ll,K as Af,B as Ou,Q as gf,U as Bf,X as Cf,Y as yf,Z as Ef,_ as Ei,$ as vf,a0 as Gu,a1 as _f,a2 as Mf,a3 as Tf,a4 as Ff,a5 as ku,a6 as Sf,a7 as wf,a8 as Rf,a9 as Df,aa as If,ab as xf,ac as Lf,ad as Of,ae as Gf,af as kf,T as ia,ag as Hf,ah as Pf,ai as oa,aj as Uf,ak as Hu,al as Nf,am as Jf,an as Kf,ao as zf,ap as yn,aq as Cs,ar as Zr,i as Pu,as as Qf,at as jf,b as Yf,S as Xf,au as Vf,av as Wf,aw as Zf,ax as bf}from"../three-de3e021a.js";var io={},qf={get exports(){return io},set exports(e){io=e}},Oe={},oo={},$f={get exports(){return oo},set exports(e){oo=e}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var G=D.length;D.push(L);e:for(;0<G;){var j=G-1>>>1,Y=D[j];if(0<s(Y,L))D[j]=L,D[G]=Y,G=j;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],G=D.pop();if(G!==L){D[0]=G;e:for(var j=0,Y=D.length,Re=Y>>>1;j<Re;){var He=2*(j+1)-1,yt=D[He],$e=He+1,pn=D[$e];if(0>s(yt,G))$e<Y&&0>s(pn,yt)?(D[j]=pn,D[$e]=G,j=$e):(D[j]=yt,D[He]=G,j=He);else if($e<Y&&0>s(pn,G))D[j]=pn,D[$e]=G,j=$e;else break e}}return L}function s(D,L){var G=D.sortIndex-L.sortIndex;return G!==0?G:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,A=!1,B=!1,y=!1,M=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(D){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=D)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function E(D){if(y=!1,h(D),!B)if(n(a)!==null)B=!0,ke(g);else{var L=n(u);L!==null&&K(E,L.startTime-D)}}function g(D,L){B=!1,y&&(y=!1,m(_),_=-1),A=!0;var G=d;try{for(h(L),c=n(a);c!==null&&(!(c.expirationTime>L)||D&&!S());){var j=c.callback;if(typeof j=="function"){c.callback=null,d=c.priorityLevel;var Y=j(c.expirationTime<=L);L=e.unstable_now(),typeof Y=="function"?c.callback=Y:c===n(a)&&r(a),h(L)}else r(a);c=n(a)}if(c!==null)var Re=!0;else{var He=n(u);He!==null&&K(E,He.startTime-L),Re=!1}return Re}finally{c=null,d=G,A=!1}}var C=!1,v=null,_=-1,T=5,R=-1;function S(){return!(e.unstable_now()-R<T)}function N(){if(v!==null){var D=e.unstable_now();R=D;var L=!0;try{L=v(!0,D)}finally{L?Z():(C=!1,v=null)}}else C=!1}var Z;if(typeof p=="function")Z=function(){p(N)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,P=Ce.port2;Ce.port1.onmessage=N,Z=function(){P.postMessage(null)}}else Z=function(){M(N,0)};function ke(D){v=D,C||(C=!0,Z())}function K(D,L){_=M(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){B||A||(B=!0,ke(g))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var G=d;d=L;try{return D()}finally{d=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=d;d=D;try{return L()}finally{d=G}},e.unstable_scheduleCallback=function(D,L,G){var j=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,D={id:f++,callback:L,priorityLevel:D,startTime:G,expirationTime:Y,sortIndex:-1},G>j?(D.sortIndex=G,t(u,D),n(a)===null&&D===n(u)&&(y?(m(_),_=-1):y=!0,K(E,G-j))):(D.sortIndex=Y,t(a,D),B||A||(B=!0,ke(g))),D},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(D){var L=d;return function(){var G=d;d=L;try{return D.apply(this,arguments)}finally{d=G}}}})(Uu);(function(e){e.exports=Uu})($f);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=I,Le=oo;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,Tr={};function fn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,eh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},aa={};function th(e){return lo.call(aa,e)?!0:lo.call(la,e)?!1:eh.test(e)?aa[e]=!0:(la[e]=!0,!1)}function nh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rh(e,t,n,r){if(t===null||typeof t>"u"||nh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(al,ul);pe[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(al,ul);pe[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(al,ul);pe[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function cl(e,t,n,r){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rh(t,n,s,r)&&(n=null),r||s===null?th(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=Nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,br=Symbol.for("react.element"),En=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),dl=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),Ku=Symbol.for("react.provider"),zu=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Qu=Symbol.for("react.offscreen"),ua=Symbol.iterator;function bn(e){return e===null||typeof e!="object"?null:(e=ua&&e[ua]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,vi;function fr(e){if(vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vi=t&&t[1]||""}return`
`+vi+e}var _i=!1;function Mi(e,t){if(!e||_i)return"";_i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{_i=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fr(e):""}function sh(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=Mi(e.type,!1),e;case 11:return e=Mi(e.type.render,!1),e;case 1:return e=Mi(e.type,!0),e;default:return""}}function fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case En:return"Portal";case ao:return"Profiler";case dl:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zu:return(e.displayName||"Context")+".Consumer";case Ku:return(e._context.displayName||"Context")+".Provider";case fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hl:return t=e.displayName||null,t!==null?t:fo(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return fo(e(t))}catch{}}return null}function ih(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fo(t);case 8:return t===dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oh(e){var t=ju(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=oh(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ju(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ho(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ca(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xu(e,t){t=t.checked,t!=null&&cl(e,"checked",t,!1)}function po(e,t){Xu(e,t);var n=Nt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mo(e,t.type,n):t.hasOwnProperty("defaultValue")&&mo(e,t.type,Nt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function da(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mo(e,t,n){(t!=="number"||xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hr=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(hr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nt(n)}}function Vu(e,t){var n=Nt(t.value),r=Nt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $r,Zu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lh=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){lh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});function bu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ar.hasOwnProperty(e)&&Ar[e]?(""+t).trim():t+"px"}function qu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ah=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(e,t){if(t){if(ah[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eo=null,On=null,Gn=null;function pa(e){if(e=Yr(e)){if(typeof Eo!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ai(t),Eo(e.stateNode,e.type,t))}}function $u(e){On?Gn?Gn.push(e):Gn=[e]:On=e}function ec(){if(On){var e=On,t=Gn;if(Gn=On=null,pa(e),t)for(e=0;e<t.length;e++)pa(t[e])}}function tc(e,t){return e(t)}function nc(){}var Ti=!1;function rc(e,t,n){if(Ti)return e(t,n);Ti=!0;try{return tc(e,t,n)}finally{Ti=!1,(On!==null||Gn!==null)&&(nc(),ec())}}function Sr(e,t){var n=e.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var vo=!1;if(mt)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){vo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{vo=!1}function uh(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var gr=!1,Ls=null,Os=!1,_o=null,ch={onError:function(e){gr=!0,Ls=e}};function dh(e,t,n,r,s,i,o,l,a){gr=!1,Ls=null,uh.apply(ch,arguments)}function fh(e,t,n,r,s,i,o,l,a){if(dh.apply(this,arguments),gr){if(gr){var u=Ls;gr=!1,Ls=null}else throw Error(F(198));Os||(Os=!0,_o=u)}}function hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ma(e){if(hn(e)!==e)throw Error(F(188))}function hh(e){var t=e.alternate;if(!t){if(t=hn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ma(s),e;if(i===r)return ma(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function ic(e){return e=hh(e),e!==null?oc(e):null}function oc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oc(e);if(t!==null)return t;e=e.sibling}return null}var lc=Le.unstable_scheduleCallback,Aa=Le.unstable_cancelCallback,ph=Le.unstable_shouldYield,mh=Le.unstable_requestPaint,se=Le.unstable_now,Ah=Le.unstable_getCurrentPriorityLevel,ml=Le.unstable_ImmediatePriority,ac=Le.unstable_UserBlockingPriority,Gs=Le.unstable_NormalPriority,gh=Le.unstable_LowPriority,uc=Le.unstable_IdlePriority,si=null,ot=null;function Bh(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Eh,Ch=Math.log,yh=Math.LN2;function Eh(e){return e>>>=0,e===0?32:31-(Ch(e)/yh|0)|0}var es=64,ts=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=pr(l):(i&=o,i!==0&&(r=pr(i)))}else o=n&~s,o!==0?r=pr(o):i!==0&&(r=pr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),s=1<<n,r|=e[n],t&=~s;return r}function vh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ze(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=vh(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cc(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function Fi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function Mh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ze(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Al(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fc,gl,hc,pc,mc,To=!1,ns=[],It=null,xt=null,Lt=null,wr=new Map,Rr=new Map,Ft=[],Th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ga(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function $n(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yr(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fh(e,t,n,r,s){switch(t){case"focusin":return It=$n(It,e,t,n,r,s),!0;case"dragenter":return xt=$n(xt,e,t,n,r,s),!0;case"mouseover":return Lt=$n(Lt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return wr.set(i,$n(wr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rr.set(i,$n(Rr.get(i)||null,e,t,n,r,s)),!0}return!1}function Ac(e){var t=$t(e.target);if(t!==null){var n=hn(t);if(n!==null){if(t=n.tag,t===13){if(t=sc(n),t!==null){e.blockedOn=t,mc(e.priority,function(){hc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yo=r,n.target.dispatchEvent(r),yo=null}else return t=Yr(n),t!==null&&gl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ba(e,t,n){ys(e)&&n.delete(t)}function Sh(){To=!1,It!==null&&ys(It)&&(It=null),xt!==null&&ys(xt)&&(xt=null),Lt!==null&&ys(Lt)&&(Lt=null),wr.forEach(Ba),Rr.forEach(Ba)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,Sh)))}function Dr(e){function t(s){return er(s,e)}if(0<ns.length){er(ns[0],e);for(var n=1;n<ns.length;n++){var r=ns[n];r.blockedOn===e&&(r.blockedOn=null)}}for(It!==null&&er(It,e),xt!==null&&er(xt,e),Lt!==null&&er(Lt,e),wr.forEach(t),Rr.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)Ac(n),n.blockedOn===null&&Ft.shift()}var kn=Ct.ReactCurrentBatchConfig,Hs=!0;function wh(e,t,n,r){var s=J,i=kn.transition;kn.transition=null;try{J=1,Bl(e,t,n,r)}finally{J=s,kn.transition=i}}function Rh(e,t,n,r){var s=J,i=kn.transition;kn.transition=null;try{J=4,Bl(e,t,n,r)}finally{J=s,kn.transition=i}}function Bl(e,t,n,r){if(Hs){var s=Fo(e,t,n,r);if(s===null)ki(e,t,r,Ps,n),ga(e,r);else if(Fh(s,e,t,n,r))r.stopPropagation();else if(ga(e,r),t&4&&-1<Th.indexOf(e)){for(;s!==null;){var i=Yr(s);if(i!==null&&fc(i),i=Fo(e,t,n,r),i===null&&ki(e,t,r,Ps,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ki(e,t,r,null,n)}}var Ps=null;function Fo(e,t,n,r){if(Ps=null,e=pl(r),e=$t(e),e!==null)if(t=hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ah()){case ml:return 1;case ac:return 4;case Gs:case gh:return 16;case uc:return 536870912;default:return 16}default:return 16}}var Rt=null,Cl=null,Es=null;function Bc(){if(Es)return Es;var e,t=Cl,n=t.length,r,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Es=s.slice(e,1<r?1-r:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Ca(){return!1}function Ge(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:Ca,this.isPropagationStopped=Ca,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Ge(Vn),jr=ne({},Vn,{view:0,detail:0}),Dh=Ge(jr),Si,wi,tr,ii=ne({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(Si=e.screenX-tr.screenX,wi=e.screenY-tr.screenY):wi=Si=0,tr=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:wi}}),ya=Ge(ii),Ih=ne({},ii,{dataTransfer:0}),xh=Ge(Ih),Lh=ne({},jr,{relatedTarget:0}),Ri=Ge(Lh),Oh=ne({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gh=Ge(Oh),kh=ne({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hh=Ge(kh),Ph=ne({},Vn,{data:0}),Ea=Ge(Ph),Uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jh[e])?!!t[e]:!1}function El(){return Kh}var zh=ne({},jr,{key:function(e){if(e.key){var t=Uh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qh=Ge(zh),jh=ne({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Ge(jh),Yh=ne({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Xh=Ge(Yh),Vh=ne({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wh=Ge(Vh),Zh=ne({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=Ge(Zh),qh=[9,13,27,32],vl=mt&&"CompositionEvent"in window,Br=null;mt&&"documentMode"in document&&(Br=document.documentMode);var $h=mt&&"TextEvent"in window&&!Br,Cc=mt&&(!vl||Br&&8<Br&&11>=Br),_a=String.fromCharCode(32),Ma=!1;function yc(e,t){switch(e){case"keyup":return qh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function ep(e,t){switch(e){case"compositionend":return Ec(t);case"keypress":return t.which!==32?null:(Ma=!0,_a);case"textInput":return e=t.data,e===_a&&Ma?null:e;default:return null}}function tp(e,t){if(_n)return e==="compositionend"||!vl&&yc(e,t)?(e=Bc(),Es=Cl=Rt=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cc&&t.locale!=="ko"?null:t.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!np[e.type]:t==="textarea"}function vc(e,t,n,r){$u(r),t=Us(t,"onChange"),0<t.length&&(n=new yl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cr=null,Ir=null;function rp(e){Lc(e,0)}function oi(e){var t=Fn(e);if(Yu(t))return e}function sp(e,t){if(e==="change")return t}var _c=!1;if(mt){var Di;if(mt){var Ii="oninput"in document;if(!Ii){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Ii=typeof Fa.oninput=="function"}Di=Ii}else Di=!1;_c=Di&&(!document.documentMode||9<document.documentMode)}function Sa(){Cr&&(Cr.detachEvent("onpropertychange",Mc),Ir=Cr=null)}function Mc(e){if(e.propertyName==="value"&&oi(Ir)){var t=[];vc(t,Ir,e,pl(e)),rc(rp,t)}}function ip(e,t,n){e==="focusin"?(Sa(),Cr=t,Ir=n,Cr.attachEvent("onpropertychange",Mc)):e==="focusout"&&Sa()}function op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oi(Ir)}function lp(e,t){if(e==="click")return oi(t)}function ap(e,t){if(e==="input"||e==="change")return oi(t)}function up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:up;function xr(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lo.call(t,s)||!qe(e[s],t[s]))return!1}return!0}function wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ra(e,t){var n=wa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wa(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xs(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cp(e){var t=Fc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(r!==null&&_l(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ra(n,i);var o=Ra(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=mt&&"documentMode"in document&&11>=document.documentMode,Mn=null,So=null,yr=null,wo=!1;function Da(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wo||Mn==null||Mn!==xs(r)||(r=Mn,"selectionStart"in r&&_l(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&xr(yr,r)||(yr=r,r=Us(So,"onSelect"),0<r.length&&(t=new yl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mn)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tn={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},xi={},Sc={};mt&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function li(e){if(xi[e])return xi[e];if(!Tn[e])return e;var t=Tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sc)return xi[e]=t[n];return e}var wc=li("animationend"),Rc=li("animationiteration"),Dc=li("animationstart"),Ic=li("transitionend"),xc=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){xc.set(e,t),fn(t,[e])}for(var Li=0;Li<Ia.length;Li++){var Oi=Ia[Li],fp=Oi.toLowerCase(),hp=Oi[0].toUpperCase()+Oi.slice(1);Kt(fp,"on"+hp)}Kt(wc,"onAnimationEnd");Kt(Rc,"onAnimationIteration");Kt(Dc,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(Ic,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fh(r,t,void 0,e),e.currentTarget=null}function Lc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;xa(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;xa(s,l,u),i=a}}}if(Os)throw e=_o,Os=!1,_o=null,e}function V(e,t){var n=t[Lo];n===void 0&&(n=t[Lo]=new Set);var r=e+"__bubble";n.has(r)||(Oc(t,e,2,!1),n.add(r))}function Gi(e,t,n){var r=0;t&&(r|=4),Oc(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[is]){e[is]=!0,Ju.forEach(function(n){n!=="selectionchange"&&(pp.has(n)||Gi(n,!1,e),Gi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,Gi("selectionchange",!1,t))}}function Oc(e,t,n,r){switch(gc(t)){case 1:var s=wh;break;case 4:s=Rh;break;default:s=Bl}n=s.bind(null,t,n,e),s=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ki(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=$t(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}rc(function(){var u=i,f=pl(n),c=[];e:{var d=xc.get(e);if(d!==void 0){var A=yl,B=e;switch(e){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":A=Qh;break;case"focusin":B="focus",A=Ri;break;case"focusout":B="blur",A=Ri;break;case"beforeblur":case"afterblur":A=Ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Xh;break;case wc:case Rc:case Dc:A=Gh;break;case Ic:A=Wh;break;case"scroll":A=Dh;break;case"wheel":A=bh;break;case"copy":case"cut":case"paste":A=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=va}var y=(t&4)!==0,M=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,h;p!==null;){h=p;var E=h.stateNode;if(h.tag===5&&E!==null&&(h=E,m!==null&&(E=Sr(p,m),E!=null&&y.push(Or(p,E,h)))),M)break;p=p.return}0<y.length&&(d=new A(d,B,null,n,f),c.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",d&&n!==yo&&(B=n.relatedTarget||n.fromElement)&&($t(B)||B[At]))break e;if((A||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,A?(B=n.relatedTarget||n.toElement,A=u,B=B?$t(B):null,B!==null&&(M=hn(B),B!==M||B.tag!==5&&B.tag!==6)&&(B=null)):(A=null,B=u),A!==B)){if(y=ya,E="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=va,E="onPointerLeave",m="onPointerEnter",p="pointer"),M=A==null?d:Fn(A),h=B==null?d:Fn(B),d=new y(E,p+"leave",A,n,f),d.target=M,d.relatedTarget=h,E=null,$t(f)===u&&(y=new y(m,p+"enter",B,n,f),y.target=h,y.relatedTarget=M,E=y),M=E,A&&B)t:{for(y=A,m=B,p=0,h=y;h;h=An(h))p++;for(h=0,E=m;E;E=An(E))h++;for(;0<p-h;)y=An(y),p--;for(;0<h-p;)m=An(m),h--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=An(y),m=An(m)}y=null}else y=null;A!==null&&La(c,d,A,y,!1),B!==null&&M!==null&&La(c,M,B,y,!0)}}e:{if(d=u?Fn(u):window,A=d.nodeName&&d.nodeName.toLowerCase(),A==="select"||A==="input"&&d.type==="file")var g=sp;else if(Ta(d))if(_c)g=ap;else{g=op;var C=ip}else(A=d.nodeName)&&A.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(g=lp);if(g&&(g=g(e,u))){vc(c,g,n,f);break e}C&&C(e,d,u),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&mo(d,"number",d.value)}switch(C=u?Fn(u):window,e){case"focusin":(Ta(C)||C.contentEditable==="true")&&(Mn=C,So=u,yr=null);break;case"focusout":yr=So=Mn=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Da(c,n,f);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Da(c,n,f)}var v;if(vl)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _n?yc(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Cc&&n.locale!=="ko"&&(_n||_!=="onCompositionStart"?_==="onCompositionEnd"&&_n&&(v=Bc()):(Rt=f,Cl="value"in Rt?Rt.value:Rt.textContent,_n=!0)),C=Us(u,_),0<C.length&&(_=new Ea(_,e,null,n,f),c.push({event:_,listeners:C}),v?_.data=v:(v=Ec(n),v!==null&&(_.data=v)))),(v=$h?ep(e,n):tp(e,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(f=new Ea("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=v))}Lc(c,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sr(e,n),i!=null&&r.unshift(Or(e,i,s)),i=Sr(e,t),i!=null&&r.push(Or(e,i,s))),e=e.return}return r}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function La(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Sr(n,i),a!=null&&o.unshift(Or(n,a,l))):s||(a=Sr(n,i),a!=null&&o.push(Or(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var mp=/\r\n?/g,Ap=/\u0000|\uFFFD/g;function Oa(e){return(typeof e=="string"?e:""+e).replace(mp,`
`).replace(Ap,"")}function os(e,t,n){if(t=Oa(t),Oa(e)!==t&&n)throw Error(F(425))}function Ns(){}var Ro=null,Do=null;function Io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xo=typeof setTimeout=="function"?setTimeout:void 0,gp=typeof clearTimeout=="function"?clearTimeout:void 0,Ga=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ga<"u"?function(e){return Ga.resolve(null).then(e).catch(Cp)}:xo;function Cp(e){setTimeout(function(){throw e})}function Hi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Dr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dr(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ka(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),it="__reactFiber$"+Wn,Gr="__reactProps$"+Wn,At="__reactContainer$"+Wn,Lo="__reactEvents$"+Wn,yp="__reactListeners$"+Wn,Ep="__reactHandles$"+Wn;function $t(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ka(e);e!==null;){if(n=e[it])return n;e=ka(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[it]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ai(e){return e[Gr]||null}var Oo=[],Sn=-1;function zt(e){return{current:e}}function W(e){0>Sn||(e.current=Oo[Sn],Oo[Sn]=null,Sn--)}function Q(e,t){Sn++,Oo[Sn]=e.current,e.current=t}var Jt={},Be=zt(Jt),Fe=zt(!1),on=Jt;function Kn(e,t){var n=e.type.contextTypes;if(!n)return Jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Se(e){return e=e.childContextTypes,e!=null}function Js(){W(Fe),W(Be)}function Ha(e,t,n){if(Be.current!==Jt)throw Error(F(168));Q(Be,t),Q(Fe,n)}function Gc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,ih(e)||"Unknown",s));return ne({},n,r)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,on=Be.current,Q(Be,e),Q(Fe,Fe.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Gc(e,t,on),r.__reactInternalMemoizedMergedChildContext=e,W(Fe),W(Be),Q(Be,e)):W(Fe),Q(Fe,n)}var dt=null,ui=!1,Pi=!1;function kc(e){dt===null?dt=[e]:dt.push(e)}function vp(e){ui=!0,kc(e)}function Qt(){if(!Pi&&dt!==null){Pi=!0;var e=0,t=J;try{var n=dt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dt=null,ui=!1}catch(s){throw dt!==null&&(dt=dt.slice(e+1)),lc(ml,Qt),s}finally{J=t,Pi=!1}}return null}var wn=[],Rn=0,zs=null,Qs=0,Pe=[],Ue=0,ln=null,ft=1,ht="";function Zt(e,t){wn[Rn++]=Qs,wn[Rn++]=zs,zs=e,Qs=t}function Hc(e,t,n){Pe[Ue++]=ft,Pe[Ue++]=ht,Pe[Ue++]=ln,ln=e;var r=ft;e=ht;var s=32-Ze(r)-1;r&=~(1<<s),n+=1;var i=32-Ze(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ft=1<<32-Ze(t)+s|n<<s|r,ht=i+e}else ft=1<<i|n<<s|r,ht=e}function Ml(e){e.return!==null&&(Zt(e,1),Hc(e,1,0))}function Tl(e){for(;e===zs;)zs=wn[--Rn],wn[Rn]=null,Qs=wn[--Rn],wn[Rn]=null;for(;e===ln;)ln=Pe[--Ue],Pe[Ue]=null,ht=Pe[--Ue],Pe[Ue]=null,ft=Pe[--Ue],Pe[Ue]=null}var xe=null,Ie=null,$=!1,Ve=null;function Pc(e,t){var n=Ne(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xe=e,Ie=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:ft,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ne(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xe=e,Ie=null,!0):!1;default:return!1}}function Go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ko(e){if($){var t=Ie;if(t){var n=t;if(!Ua(e,t)){if(Go(e))throw Error(F(418));t=Ot(n.nextSibling);var r=xe;t&&Ua(e,t)?Pc(r,n):(e.flags=e.flags&-4097|2,$=!1,xe=e)}}else{if(Go(e))throw Error(F(418));e.flags=e.flags&-4097|2,$=!1,xe=e}}}function Na(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xe=e}function ls(e){if(e!==xe)return!1;if(!$)return Na(e),$=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Io(e.type,e.memoizedProps)),t&&(t=Ie)){if(Go(e))throw Uc(),Error(F(418));for(;t;)Pc(e,t),t=Ot(t.nextSibling)}if(Na(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Ot(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=xe?Ot(e.stateNode.nextSibling):null;return!0}function Uc(){for(var e=Ie;e;)e=Ot(e.nextSibling)}function zn(){Ie=xe=null,$=!1}function Fl(e){Ve===null?Ve=[e]:Ve.push(e)}var _p=Ct.ReactCurrentBatchConfig;function Ye(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var js=zt(null),Ys=null,Dn=null,Sl=null;function wl(){Sl=Dn=Ys=null}function Rl(e){var t=js.current;W(js),e._currentValue=t}function Ho(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hn(e,t){Ys=e,Sl=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(Ys===null)throw Error(F(308));Dn=e,Ys.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var en=null;function Dl(e){en===null?en=[e]:en.push(e)}function Nc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dl(t)):(n.next=s.next,s.next=n),t.interleaved=n,gt(e,r)}function gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gt(e,n)}return s=r.interleaved,s===null?(t.next=t,Dl(r)):(t.next=s.next,s.next=t),r.interleaved=t,gt(e,n)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}function Ja(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xs(e,t,n,r){var s=e.updateQueue;Tt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,f=u=a=null,l=i;do{var d=l.lane,A=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:A,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var B=e,y=l;switch(d=t,A=n,y.tag){case 1:if(B=y.payload,typeof B=="function"){c=B.call(A,c,d);break e}c=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=y.payload,d=typeof B=="function"?B.call(A,c,d):B,d==null)break e;c=ne({},c,d);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else A={eventTime:A,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=A,a=c):f=f.next=A,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(f===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);un|=o,e.lanes=o,e.memoizedState=c}}function Ka(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Kc=new Nu.Component().refs;function Po(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ci={isMounted:function(e){return(e=e._reactInternals)?hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ee(),s=Ht(e),i=pt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Gt(e,i,s),t!==null&&(be(t,e,s,r),_s(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ee(),s=Ht(e),i=pt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Gt(e,i,s),t!==null&&(be(t,e,s,r),_s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ee(),r=Ht(e),s=pt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,r),t!==null&&(be(t,e,r,n),_s(t,e,r))}};function za(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(s,i):!0}function zc(e,t,n){var r=!1,s=Jt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Se(t)?on:Be.current,r=t.contextTypes,i=(r=r!=null)?Kn(e,s):Jt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ci.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Kc,Il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Se(t)?on:Be.current,s.context=Kn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Po(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ci.enqueueReplaceState(s,s.state,null),Xs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;l===Kc&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ja(e){var t=e._init;return t(e._payload)}function Qc(e){function t(m,p){if(e){var h=m.deletions;h===null?(m.deletions=[p],m.flags|=16):h.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Pt(m,p),m.index=0,m.sibling=null,m}function i(m,p,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<p?(m.flags|=2,p):h):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,h,E){return p===null||p.tag!==6?(p=ji(h,m.mode,E),p.return=m,p):(p=s(p,h),p.return=m,p)}function a(m,p,h,E){var g=h.type;return g===vn?f(m,p,h.props.children,E,h.key):p!==null&&(p.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Mt&&ja(g)===p.type)?(E=s(p,h.props),E.ref=nr(m,p,h),E.return=m,E):(E=Rs(h.type,h.key,h.props,null,m.mode,E),E.ref=nr(m,p,h),E.return=m,E)}function u(m,p,h,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=Yi(h,m.mode,E),p.return=m,p):(p=s(p,h.children||[]),p.return=m,p)}function f(m,p,h,E,g){return p===null||p.tag!==7?(p=sn(h,m.mode,E,g),p.return=m,p):(p=s(p,h),p.return=m,p)}function c(m,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ji(""+p,m.mode,h),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case br:return h=Rs(p.type,p.key,p.props,null,m.mode,h),h.ref=nr(m,null,p),h.return=m,h;case En:return p=Yi(p,m.mode,h),p.return=m,p;case Mt:var E=p._init;return c(m,E(p._payload),h)}if(hr(p)||bn(p))return p=sn(p,m.mode,h,null),p.return=m,p;as(m,p)}return null}function d(m,p,h,E){var g=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return g!==null?null:l(m,p,""+h,E);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case br:return h.key===g?a(m,p,h,E):null;case En:return h.key===g?u(m,p,h,E):null;case Mt:return g=h._init,d(m,p,g(h._payload),E)}if(hr(h)||bn(h))return g!==null?null:f(m,p,h,E,null);as(m,h)}return null}function A(m,p,h,E,g){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(h)||null,l(p,m,""+E,g);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case br:return m=m.get(E.key===null?h:E.key)||null,a(p,m,E,g);case En:return m=m.get(E.key===null?h:E.key)||null,u(p,m,E,g);case Mt:var C=E._init;return A(m,p,h,C(E._payload),g)}if(hr(E)||bn(E))return m=m.get(h)||null,f(p,m,E,g,null);as(p,E)}return null}function B(m,p,h,E){for(var g=null,C=null,v=p,_=p=0,T=null;v!==null&&_<h.length;_++){v.index>_?(T=v,v=null):T=v.sibling;var R=d(m,v,h[_],E);if(R===null){v===null&&(v=T);break}e&&v&&R.alternate===null&&t(m,v),p=i(R,p,_),C===null?g=R:C.sibling=R,C=R,v=T}if(_===h.length)return n(m,v),$&&Zt(m,_),g;if(v===null){for(;_<h.length;_++)v=c(m,h[_],E),v!==null&&(p=i(v,p,_),C===null?g=v:C.sibling=v,C=v);return $&&Zt(m,_),g}for(v=r(m,v);_<h.length;_++)T=A(v,m,_,h[_],E),T!==null&&(e&&T.alternate!==null&&v.delete(T.key===null?_:T.key),p=i(T,p,_),C===null?g=T:C.sibling=T,C=T);return e&&v.forEach(function(S){return t(m,S)}),$&&Zt(m,_),g}function y(m,p,h,E){var g=bn(h);if(typeof g!="function")throw Error(F(150));if(h=g.call(h),h==null)throw Error(F(151));for(var C=g=null,v=p,_=p=0,T=null,R=h.next();v!==null&&!R.done;_++,R=h.next()){v.index>_?(T=v,v=null):T=v.sibling;var S=d(m,v,R.value,E);if(S===null){v===null&&(v=T);break}e&&v&&S.alternate===null&&t(m,v),p=i(S,p,_),C===null?g=S:C.sibling=S,C=S,v=T}if(R.done)return n(m,v),$&&Zt(m,_),g;if(v===null){for(;!R.done;_++,R=h.next())R=c(m,R.value,E),R!==null&&(p=i(R,p,_),C===null?g=R:C.sibling=R,C=R);return $&&Zt(m,_),g}for(v=r(m,v);!R.done;_++,R=h.next())R=A(v,m,_,R.value,E),R!==null&&(e&&R.alternate!==null&&v.delete(R.key===null?_:R.key),p=i(R,p,_),C===null?g=R:C.sibling=R,C=R);return e&&v.forEach(function(N){return t(m,N)}),$&&Zt(m,_),g}function M(m,p,h,E){if(typeof h=="object"&&h!==null&&h.type===vn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case br:e:{for(var g=h.key,C=p;C!==null;){if(C.key===g){if(g=h.type,g===vn){if(C.tag===7){n(m,C.sibling),p=s(C,h.props.children),p.return=m,m=p;break e}}else if(C.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Mt&&ja(g)===C.type){n(m,C.sibling),p=s(C,h.props),p.ref=nr(m,C,h),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}h.type===vn?(p=sn(h.props.children,m.mode,E,h.key),p.return=m,m=p):(E=Rs(h.type,h.key,h.props,null,m.mode,E),E.ref=nr(m,p,h),E.return=m,m=E)}return o(m);case En:e:{for(C=h.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(m,p.sibling),p=s(p,h.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Yi(h,m.mode,E),p.return=m,m=p}return o(m);case Mt:return C=h._init,M(m,p,C(h._payload),E)}if(hr(h))return B(m,p,h,E);if(bn(h))return y(m,p,h,E);as(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,h),p.return=m,m=p):(n(m,p),p=ji(h,m.mode,E),p.return=m,m=p),o(m)):n(m,p)}return M}var Qn=Qc(!0),jc=Qc(!1),Xr={},lt=zt(Xr),kr=zt(Xr),Hr=zt(Xr);function tn(e){if(e===Xr)throw Error(F(174));return e}function xl(e,t){switch(Q(Hr,t),Q(kr,e),Q(lt,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=go(t,e)}W(lt),Q(lt,t)}function jn(){W(lt),W(kr),W(Hr)}function Yc(e){tn(Hr.current);var t=tn(lt.current),n=go(t,e.type);t!==n&&(Q(kr,e),Q(lt,n))}function Ll(e){kr.current===e&&(W(lt),W(kr))}var ee=zt(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function Ol(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var Ms=Ct.ReactCurrentDispatcher,Ni=Ct.ReactCurrentBatchConfig,an=0,te=null,oe=null,ue=null,Ws=!1,Er=!1,Pr=0,Mp=0;function me(){throw Error(F(321))}function Gl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function kl(e,t,n,r,s,i){if(an=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ms.current=e===null||e.memoizedState===null?wp:Rp,e=n(r,s),Er){i=0;do{if(Er=!1,Pr=0,25<=i)throw Error(F(301));i+=1,ue=oe=null,t.updateQueue=null,Ms.current=Dp,e=n(r,s)}while(Er)}if(Ms.current=Zs,t=oe!==null&&oe.next!==null,an=0,ue=oe=te=null,Ws=!1,t)throw Error(F(300));return e}function Hl(){var e=Pr!==0;return Pr=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?te.memoizedState=ue=e:ue=ue.next=e,ue}function ze(){if(oe===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ue===null?te.memoizedState:ue.next;if(t!==null)ue=t,oe=e;else{if(e===null)throw Error(F(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?te.memoizedState=ue=e:ue=ue.next=e}return ue}function Ur(e,t){return typeof t=="function"?t(e):t}function Ji(e){var t=ze(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var f=u.lane;if((an&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,te.lanes|=f,un|=f}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(Te=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,un|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ki(e){var t=ze(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qe(i,t.memoizedState)||(Te=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xc(){}function Vc(e,t){var n=te,r=ze(),s=t(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,Te=!0),r=r.queue,Pl(bc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Zc.bind(null,n,r,s,t),void 0,null),ce===null)throw Error(F(349));an&30||Wc(n,t,s)}return s}function Wc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zc(e,t,n,r){t.value=n,t.getSnapshot=r,qc(t)&&$c(e)}function bc(e,t,n){return n(function(){qc(t)&&$c(e)})}function qc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function $c(e){var t=gt(e,1);t!==null&&be(t,e,1,-1)}function Ya(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=Sp.bind(null,te,e),[t.memoizedState,e]}function Nr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ed(){return ze().memoizedState}function Ts(e,t,n,r){var s=st();te.flags|=e,s.memoizedState=Nr(1|t,n,void 0,r===void 0?null:r)}function di(e,t,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Gl(r,o.deps)){s.memoizedState=Nr(t,n,i,r);return}}te.flags|=e,s.memoizedState=Nr(1|t,n,i,r)}function Xa(e,t){return Ts(8390656,8,e,t)}function Pl(e,t){return di(2048,8,e,t)}function td(e,t){return di(4,2,e,t)}function nd(e,t){return di(4,4,e,t)}function rd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sd(e,t,n){return n=n!=null?n.concat([e]):null,di(4,4,rd.bind(null,t,e),n)}function Ul(){}function id(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function od(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ld(e,t,n){return an&21?(qe(n,t)||(n=cc(),te.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=n)}function Tp(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ni.transition;Ni.transition={};try{e(!1),t()}finally{J=n,Ni.transition=r}}function ad(){return ze().memoizedState}function Fp(e,t,n){var r=Ht(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ud(e))cd(t,n);else if(n=Nc(e,t,n,r),n!==null){var s=Ee();be(n,e,r,s),dd(n,t,r)}}function Sp(e,t,n){var r=Ht(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ud(e))cd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(s.next=s,Dl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Nc(e,t,s,r),n!==null&&(s=Ee(),be(n,e,r,s),dd(n,t,r))}}function ud(e){var t=e.alternate;return e===te||t!==null&&t===te}function cd(e,t){Er=Ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}var Zs={readContext:Ke,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},wp={readContext:Ke,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Xa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,rd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fp.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:Ya,useDebugValue:Ul,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=Ya(!1),t=e[0];return e=Tp.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,s=st();if($){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),ce===null)throw Error(F(349));an&30||Wc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xa(bc.bind(null,r,i,e),[e]),r.flags|=2048,Nr(9,Zc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=ce.identifierPrefix;if($){var n=ht,r=ft;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rp={readContext:Ke,useCallback:id,useContext:Ke,useEffect:Pl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:Ji,useRef:ed,useState:function(){return Ji(Ur)},useDebugValue:Ul,useDeferredValue:function(e){var t=ze();return ld(t,oe.memoizedState,e)},useTransition:function(){var e=Ji(Ur)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Vc,useId:ad,unstable_isNewReconciler:!1},Dp={readContext:Ke,useCallback:id,useContext:Ke,useEffect:Pl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:Ki,useRef:ed,useState:function(){return Ki(Ur)},useDebugValue:Ul,useDeferredValue:function(e){var t=ze();return oe===null?t.memoizedState=e:ld(t,oe.memoizedState,e)},useTransition:function(){var e=Ki(Ur)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Vc,useId:ad,unstable_isNewReconciler:!1};function Yn(e,t){try{var n="",r=t;do n+=sh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function fd(e,t,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Zo=r),No(e,t)},n}function hd(e,t,n){n=pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){No(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){No(e,t),typeof r!="function"&&(kt===null?kt=new Set([this]):kt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Va(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ip;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=jp.bind(null,e,t,n),t.then(e,e))}function Wa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Za(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var xp=Ct.ReactCurrentOwner,Te=!1;function ye(e,t,n,r){t.child=e===null?jc(t,null,n,r):Qn(t,e.child,n,r)}function ba(e,t,n,r,s){n=n.render;var i=t.ref;return Hn(t,s),r=kl(e,t,n,r,i,s),n=Hl(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):($&&n&&Ml(t),t.flags|=1,ye(e,t,r,s),t.child)}function qa(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Xl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pd(e,t,i,r,s)):(e=Rs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(o,r)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=Pt(i,r),e.ref=t.ref,e.return=t,t.child=e}function pd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(xr(i,r)&&e.ref===t.ref)if(Te=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return Jo(e,t,n,r,s)}function md(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(xn,De),De|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(xn,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(xn,De),De|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(xn,De),De|=r;return ye(e,t,s,n),t.child}function Ad(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jo(e,t,n,r,s){var i=Se(n)?on:Be.current;return i=Kn(t,i),Hn(t,s),n=kl(e,t,n,r,i,s),r=Hl(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):($&&r&&Ml(t),t.flags|=1,ye(e,t,n,s),t.child)}function $a(e,t,n,r,s){if(Se(n)){var i=!0;Ks(t)}else i=!1;if(Hn(t,s),t.stateNode===null)Fs(e,t),zc(t,n,r),Uo(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Se(n)?on:Be.current,u=Kn(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Qa(t,o,r,u),Tt=!1;var d=t.memoizedState;o.state=d,Xs(t,r,o,s),a=t.memoizedState,l!==r||d!==a||Fe.current||Tt?(typeof f=="function"&&(Po(t,n,f,r),a=t.memoizedState),(l=Tt||za(t,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jc(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ye(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ke(a):(a=Se(n)?on:Be.current,a=Kn(t,a));var A=n.getDerivedStateFromProps;(f=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Qa(t,o,r,a),Tt=!1,d=t.memoizedState,o.state=d,Xs(t,r,o,s);var B=t.memoizedState;l!==c||d!==B||Fe.current||Tt?(typeof A=="function"&&(Po(t,n,A,r),B=t.memoizedState),(u=Tt||za(t,n,u,r,d,B,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,B,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,B,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),o.props=r,o.state=B,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ko(e,t,n,r,i,s)}function Ko(e,t,n,r,s,i){Ad(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Pa(t,n,!1),Bt(e,t,i);r=t.stateNode,xp.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qn(t,e.child,null,i),t.child=Qn(t,null,l,i)):ye(e,t,l,i),t.memoizedState=r.state,s&&Pa(t,n,!0),t.child}function gd(e){var t=e.stateNode;t.pendingContext?Ha(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(e,t.context,!1),xl(e,t.containerInfo)}function eu(e,t,n,r,s){return zn(),Fl(s),t.flags|=256,ye(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bd(e,t,n){var r=t.pendingProps,s=ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ee,s&1),e===null)return ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),e=sn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qo(n),t.memoizedState=zo,e):Nl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lp(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Pt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pt(l,i):(i=sn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zo,r}return i=e.child,e=i.sibling,r=Pt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nl(e,t){return t=pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function us(e,t,n,r){return r!==null&&Fl(r),Qn(t,e.child,null,n),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=zi(Error(F(422))),us(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=sn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Qn(t,e.child,null,o),t.child.memoizedState=Qo(o),t.memoizedState=zo,i);if(!(t.mode&1))return us(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=zi(i,r,void 0),us(e,t,o,r)}if(l=(o&e.childLanes)!==0,Te||l){if(r=ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(e,s),be(r,e,s,-1))}return Yl(),r=zi(Error(F(421))),us(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Ot(s.nextSibling),xe=t,$=!0,Ve=null,e!==null&&(Pe[Ue++]=ft,Pe[Ue++]=ht,Pe[Ue++]=ln,ft=e.id,ht=e.overflow,ln=t),t=Nl(t,r.children),t.flags|=4096,t)}function tu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ho(e.return,t,n)}function Qi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ye(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,n,t);else if(e.tag===19)tu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qi(t,!0,n,null,i);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Pt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Op(e,t,n){switch(t.tag){case 3:gd(t),zn();break;case 5:Yc(t);break;case 1:Se(t.type)&&Ks(t);break;case 4:xl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(js,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?Bd(e,t,n):(Q(ee,ee.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);Q(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,md(e,t,n)}return Bt(e,t,n)}var yd,jo,Ed,vd;yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jo=function(){};Ed=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,tn(lt.current);var i=null;switch(n){case"input":s=ho(e,s),r=ho(e,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=Ao(e,s),r=Ao(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ns)}Bo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&V("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function rr(e,t){if(!$)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gp(e,t,n){var r=t.pendingProps;switch(Tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Se(t.type)&&Js(),Ae(t),null;case 3:return r=t.stateNode,jn(),W(Fe),W(Be),Ol(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&($o(Ve),Ve=null))),jo(e,t),Ae(t),null;case 5:Ll(t);var s=tn(Hr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ed(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Ae(t),null}if(e=tn(lt.current),ls(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[it]=t,r[Gr]=i,e=(t.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<mr.length;s++)V(mr[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":ca(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":fa(r,i),V("invalid",r)}Bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,e),s=["children",""+l]):Tr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&V("scroll",r)}switch(n){case"input":qr(r),da(r,i,!0);break;case"textarea":qr(r),ha(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ns)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[it]=t,e[Gr]=r,yd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Co(n,r),n){case"dialog":V("cancel",e),V("close",e),s=r;break;case"iframe":case"object":case"embed":V("load",e),s=r;break;case"video":case"audio":for(s=0;s<mr.length;s++)V(mr[s],e);s=r;break;case"source":V("error",e),s=r;break;case"img":case"image":case"link":V("error",e),V("load",e),s=r;break;case"details":V("toggle",e),s=r;break;case"input":ca(e,r),s=ho(e,r),V("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),V("invalid",e);break;case"textarea":fa(e,r),s=Ao(e,r),V("invalid",e);break;default:s=r}Bo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?qu(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Zu(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Fr(e,a):typeof a=="number"&&Fr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&V("scroll",e):a!=null&&cl(e,i,a,o))}switch(n){case"input":qr(e),da(e,r,!1);break;case"textarea":qr(e),ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ln(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ns)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=tn(Hr.current),tn(lt.current),ls(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(i=r.nodeValue!==n)&&(e=xe,e!==null))switch(e.tag){case 3:os(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return Ae(t),null;case 13:if(W(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($&&Ie!==null&&t.mode&1&&!(t.flags&128))Uc(),zn(),t.flags|=98560,i=!1;else if(i=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[it]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else Ve!==null&&($o(Ve),Ve=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?le===0&&(le=3):Yl())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return jn(),jo(e,t),e===null&&Lr(t.stateNode.containerInfo),Ae(t),null;case 10:return Rl(t.type._context),Ae(t),null;case 17:return Se(t.type)&&Js(),Ae(t),null;case 19:if(W(ee),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)rr(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vs(e),o!==null){for(t.flags|=128,rr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>Xn&&(t.flags|=128,r=!0,rr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$)return Ae(t),null}else 2*se()-i.renderingStartTime>Xn&&n!==1073741824&&(t.flags|=128,r=!0,rr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=ee.current,Q(ee,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return jl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?De&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function kp(e,t){switch(Tl(t),t.tag){case 1:return Se(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),W(Fe),W(Be),Ol(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ll(t),null;case 13:if(W(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(ee),null;case 4:return jn(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return jl(),null;case 24:return null;default:return null}}var cs=!1,ge=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,x=null;function In(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Yo(e,t,n){try{n()}catch(r){re(e,t,r)}}var nu=!1;function Pp(e,t){if(Ro=Hs,e=Fc(),_l(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var A;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(A=c.firstChild)!==null;)d=c,c=A;for(;;){if(c===e)break t;if(d===n&&++u===s&&(l=o),d===i&&++f===r&&(a=o),(A=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=A}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Do={focusedElem:e,selectionRange:n},Hs=!1,x=t;x!==null;)if(t=x,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,x=e;else for(;x!==null;){t=x;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var y=B.memoizedProps,M=B.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ye(t.type,y),M);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){re(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,x=e;break}x=t.return}return B=nu,nu=!1,B}function vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(t,n,i)}s=s.next}while(s!==r)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _d(e){var t=e.alternate;t!==null&&(e.alternate=null,_d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Gr],delete t[Lo],delete t[yp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ns));else if(r!==4&&(e=e.child,e!==null))for(Vo(e,t,n),e=e.sibling;e!==null;)Vo(e,t,n),e=e.sibling}function Wo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wo(e,t,n),e=e.sibling;e!==null;)Wo(e,t,n),e=e.sibling}var de=null,Xe=!1;function Et(e,t,n){for(n=n.child;n!==null;)Td(e,t,n),n=n.sibling}function Td(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:ge||In(n,t);case 6:var r=de,s=Xe;de=null,Et(e,t,n),de=r,Xe=s,de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?Hi(e.parentNode,n):e.nodeType===1&&Hi(e,n),Dr(e)):Hi(de,n.stateNode));break;case 4:r=de,s=Xe,de=n.stateNode.containerInfo,Xe=!0,Et(e,t,n),de=r,Xe=s;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(n,t,o),s=s.next}while(s!==r)}Et(e,t,n);break;case 1:if(!ge&&(In(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Et(e,t,n);break;case 21:Et(e,t,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,Et(e,t,n),ge=r):Et(e,t,n);break;default:Et(e,t,n)}}function su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hp),t.forEach(function(r){var s=Xp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Xe=!1;break e;case 3:de=l.stateNode.containerInfo,Xe=!0;break e;case 4:de=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(de===null)throw Error(F(160));Td(i,o,s),de=null,Xe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fd(t,e),t=t.sibling}function Fd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),tt(e),r&4){try{vr(3,e,e.return),fi(3,e)}catch(y){re(e,e.return,y)}try{vr(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:Qe(t,e),tt(e),r&512&&n!==null&&In(n,n.return);break;case 5:if(Qe(t,e),tt(e),r&512&&n!==null&&In(n,n.return),e.flags&32){var s=e.stateNode;try{Fr(s,"")}catch(y){re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xu(s,i),Co(l,o);var u=Co(l,i);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?qu(s,c):f==="dangerouslySetInnerHTML"?Zu(s,c):f==="children"?Fr(s,c):cl(s,f,c,u)}switch(l){case"input":po(s,i);break;case"textarea":Vu(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?Ln(s,!!i.multiple,A,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gr]=i}catch(y){re(e,e.return,y)}}break;case 6:if(Qe(t,e),tt(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){re(e,e.return,y)}}break;case 3:if(Qe(t,e),tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:Qe(t,e),tt(e);break;case 13:Qe(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zl=se())),r&4&&su(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ge=(u=ge)||f,Qe(t,e),ge=u):Qe(t,e),tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(x=e,f=e.child;f!==null;){for(c=x=f;x!==null;){switch(d=x,A=d.child,d.tag){case 0:case 11:case 14:case 15:vr(4,d,d.return);break;case 1:In(d,d.return);var B=d.stateNode;if(typeof B.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:In(d,d.return);break;case 22:if(d.memoizedState!==null){ou(c);continue}}A!==null?(A.return=d,x=A):ou(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=bu("display",o))}catch(y){re(e,e.return,y)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){re(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Qe(t,e),tt(e),r&4&&su(e);break;case 21:break;default:Qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Md(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fr(s,""),r.flags&=-33);var i=ru(e);Wo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ru(e);Vo(e,l,o);break;default:throw Error(F(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Up(e,t,n){x=e,Sd(e)}function Sd(e,t,n){for(var r=(e.mode&1)!==0;x!==null;){var s=x,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ge;l=cs;var u=ge;if(cs=o,(ge=a)&&!u)for(x=s;x!==null;)o=x,a=o.child,o.tag===22&&o.memoizedState!==null?lu(s):a!==null?(a.return=o,x=a):lu(s);for(;i!==null;)x=i,Sd(i),i=i.sibling;x=s,cs=l,ge=u}iu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,x=i):iu(e)}}function iu(e){for(;x!==null;){var t=x;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ka(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ka(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Dr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ge||t.flags&512&&Xo(t)}catch(d){re(t,t.return,d)}}if(t===e){x=null;break}if(n=t.sibling,n!==null){n.return=t.return,x=n;break}x=t.return}}function ou(e){for(;x!==null;){var t=x;if(t===e){x=null;break}var n=t.sibling;if(n!==null){n.return=t.return,x=n;break}x=t.return}}function lu(e){for(;x!==null;){var t=x;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fi(4,t)}catch(a){re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){re(t,s,a)}}var i=t.return;try{Xo(t)}catch(a){re(t,i,a)}break;case 5:var o=t.return;try{Xo(t)}catch(a){re(t,o,a)}}}catch(a){re(t,t.return,a)}if(t===e){x=null;break}var l=t.sibling;if(l!==null){l.return=t.return,x=l;break}x=t.return}}var Np=Math.ceil,bs=Ct.ReactCurrentDispatcher,Jl=Ct.ReactCurrentOwner,Je=Ct.ReactCurrentBatchConfig,U=0,ce=null,ie=null,he=0,De=0,xn=zt(0),le=0,Jr=null,un=0,hi=0,Kl=0,_r=null,Me=null,zl=0,Xn=1/0,ct=null,qs=!1,Zo=null,kt=null,ds=!1,Dt=null,$s=0,Mr=0,bo=null,Ss=-1,ws=0;function Ee(){return U&6?se():Ss!==-1?Ss:Ss=se()}function Ht(e){return e.mode&1?U&2&&he!==0?he&-he:_p.transition!==null?(ws===0&&(ws=cc()),ws):(e=J,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e):1}function be(e,t,n,r){if(50<Mr)throw Mr=0,bo=null,Error(F(185));Qr(e,n,r),(!(U&2)||e!==ce)&&(e===ce&&(!(U&2)&&(hi|=n),le===4&&St(e,he)),we(e,r),n===1&&U===0&&!(t.mode&1)&&(Xn=se()+500,ui&&Qt()))}function we(e,t){var n=e.callbackNode;_h(e,t);var r=ks(e,e===ce?he:0);if(r===0)n!==null&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Aa(n),t===1)e.tag===0?vp(au.bind(null,e)):kc(au.bind(null,e)),Bp(function(){!(U&6)&&Qt()}),n=null;else{switch(dc(r)){case 1:n=ml;break;case 4:n=ac;break;case 16:n=Gs;break;case 536870912:n=uc;break;default:n=Gs}n=Gd(n,wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wd(e,t){if(Ss=-1,ws=0,U&6)throw Error(F(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=ks(e,e===ce?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ei(e,r);else{t=r;var s=U;U|=2;var i=Dd();(ce!==e||he!==t)&&(ct=null,Xn=se()+500,rn(e,t));do try{zp();break}catch(l){Rd(e,l)}while(1);wl(),bs.current=i,U=s,ie!==null?t=0:(ce=null,he=0,t=le)}if(t!==0){if(t===2&&(s=Mo(e),s!==0&&(r=s,t=qo(e,s))),t===1)throw n=Jr,rn(e,0),St(e,r),we(e,se()),n;if(t===6)St(e,r);else{if(s=e.current.alternate,!(r&30)&&!Jp(s)&&(t=ei(e,r),t===2&&(i=Mo(e),i!==0&&(r=i,t=qo(e,i))),t===1))throw n=Jr,rn(e,0),St(e,r),we(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:bt(e,Me,ct);break;case 3:if(St(e,r),(r&130023424)===r&&(t=zl+500-se(),10<t)){if(ks(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xo(bt.bind(null,e,Me,ct),t);break}bt(e,Me,ct);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ze(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Np(r/1960))-r,10<r){e.timeoutHandle=xo(bt.bind(null,e,Me,ct),r);break}bt(e,Me,ct);break;case 5:bt(e,Me,ct);break;default:throw Error(F(329))}}}return we(e,se()),e.callbackNode===n?wd.bind(null,e):null}function qo(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(rn(e,t).flags|=256),e=ei(e,t),e!==2&&(t=Me,Me=n,t!==null&&$o(t)),e}function $o(e){Me===null?Me=e:Me.push.apply(Me,e)}function Jp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~Kl,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function au(e){if(U&6)throw Error(F(327));Pn();var t=ks(e,0);if(!(t&1))return we(e,se()),null;var n=ei(e,t);if(e.tag!==0&&n===2){var r=Mo(e);r!==0&&(t=r,n=qo(e,r))}if(n===1)throw n=Jr,rn(e,0),St(e,t),we(e,se()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bt(e,Me,ct),we(e,se()),null}function Ql(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(Xn=se()+500,ui&&Qt())}}function cn(e){Dt!==null&&Dt.tag===0&&!(U&6)&&Pn();var t=U;U|=1;var n=Je.transition,r=J;try{if(Je.transition=null,J=1,e)return e()}finally{J=r,Je.transition=n,U=t,!(U&6)&&Qt()}}function jl(){De=xn.current,W(xn)}function rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gp(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Tl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Js();break;case 3:jn(),W(Fe),W(Be),Ol();break;case 5:Ll(r);break;case 4:jn();break;case 13:W(ee);break;case 19:W(ee);break;case 10:Rl(r.type._context);break;case 22:case 23:jl()}n=n.return}if(ce=e,ie=e=Pt(e.current,null),he=De=t,le=0,Jr=null,Kl=hi=un=0,Me=_r=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}en=null}return e}function Rd(e,t){do{var n=ie;try{if(wl(),Ms.current=Zs,Ws){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ws=!1}if(an=0,ue=oe=te=null,Er=!1,Pr=0,Jl.current=null,n===null||n.return===null){le=1,Jr=t,ie=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var A=Wa(o);if(A!==null){A.flags&=-257,Za(A,o,l,i,t),A.mode&1&&Va(i,u,t),t=A,a=u;var B=t.updateQueue;if(B===null){var y=new Set;y.add(a),t.updateQueue=y}else B.add(a);break e}else{if(!(t&1)){Va(i,u,t),Yl();break e}a=Error(F(426))}}else if($&&l.mode&1){var M=Wa(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Za(M,o,l,i,t),Fl(Yn(a,l));break e}}i=a=Yn(a,l),le!==4&&(le=2),_r===null?_r=[i]:_r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=fd(i,a,t);Ja(i,m);break e;case 1:l=a;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(kt===null||!kt.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=hd(i,l,t);Ja(i,E);break e}}i=i.return}while(i!==null)}xd(n)}catch(g){t=g,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(1)}function Dd(){var e=bs.current;return bs.current=Zs,e===null?Zs:e}function Yl(){(le===0||le===3||le===2)&&(le=4),ce===null||!(un&268435455)&&!(hi&268435455)||St(ce,he)}function ei(e,t){var n=U;U|=2;var r=Dd();(ce!==e||he!==t)&&(ct=null,rn(e,t));do try{Kp();break}catch(s){Rd(e,s)}while(1);if(wl(),U=n,bs.current=r,ie!==null)throw Error(F(261));return ce=null,he=0,le}function Kp(){for(;ie!==null;)Id(ie)}function zp(){for(;ie!==null&&!ph();)Id(ie)}function Id(e){var t=Od(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?xd(e):ie=t,Jl.current=null}function xd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kp(n,t),n!==null){n.flags&=32767,ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(n=Gp(n,t,De),n!==null){ie=n;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function bt(e,t,n){var r=J,s=Je.transition;try{Je.transition=null,J=1,Qp(e,t,n,r)}finally{Je.transition=s,J=r}return null}function Qp(e,t,n,r){do Pn();while(Dt!==null);if(U&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mh(e,i),e===ce&&(ie=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,Gd(Gs,function(){return Pn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=J;J=1;var l=U;U|=4,Jl.current=null,Pp(e,n),Fd(n,e),cp(Do),Hs=!!Ro,Do=Ro=null,e.current=n,Up(n),mh(),U=l,J=o,Je.transition=i}else e.current=n;if(ds&&(ds=!1,Dt=e,$s=s),i=e.pendingLanes,i===0&&(kt=null),Bh(n.stateNode),we(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,e=Zo,Zo=null,e;return $s&1&&e.tag!==0&&Pn(),i=e.pendingLanes,i&1?e===bo?Mr++:(Mr=0,bo=e):Mr=0,Qt(),null}function Pn(){if(Dt!==null){var e=dc($s),t=Je.transition,n=J;try{if(Je.transition=null,J=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,$s=0,U&6)throw Error(F(331));var s=U;for(U|=4,x=e.current;x!==null;){var i=x,o=i.child;if(x.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(x=u;x!==null;){var f=x;switch(f.tag){case 0:case 11:case 15:vr(8,f,i)}var c=f.child;if(c!==null)c.return=f,x=c;else for(;x!==null;){f=x;var d=f.sibling,A=f.return;if(_d(f),f===u){x=null;break}if(d!==null){d.return=A,x=d;break}x=A}}}var B=i.alternate;if(B!==null){var y=B.child;if(y!==null){B.child=null;do{var M=y.sibling;y.sibling=null,y=M}while(y!==null)}}x=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,x=o;else e:for(;x!==null;){if(i=x,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,x=m;break e}x=i.return}}var p=e.current;for(x=p;x!==null;){o=x;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,x=h;else e:for(o=p;x!==null;){if(l=x,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fi(9,l)}}catch(g){re(l,l.return,g)}if(l===o){x=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,x=E;break e}x=l.return}}if(U=s,Qt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(si,e)}catch{}r=!0}return r}finally{J=n,Je.transition=t}}return!1}function uu(e,t,n){t=Yn(n,t),t=fd(e,t,1),e=Gt(e,t,1),t=Ee(),e!==null&&(Qr(e,1,t),we(e,t))}function re(e,t,n){if(e.tag===3)uu(e,e,n);else for(;t!==null;){if(t.tag===3){uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kt===null||!kt.has(r))){e=Yn(n,e),e=hd(t,e,1),t=Gt(t,e,1),e=Ee(),t!==null&&(Qr(t,1,e),we(t,e));break}}t=t.return}}function jp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>se()-zl?rn(e,0):Kl|=n),we(e,t)}function Ld(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var n=Ee();e=gt(e,t),e!==null&&(Qr(e,t,n),we(e,n))}function Yp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ld(e,n)}function Xp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Ld(e,n)}var Od;Od=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Te=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Te=!1,Op(e,t,n);Te=!!(e.flags&131072)}else Te=!1,$&&t.flags&1048576&&Hc(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var s=Kn(t,Be.current);Hn(t,n),s=kl(null,t,r,e,s,n);var i=Hl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(i=!0,Ks(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(t),s.updater=ci,t.stateNode=s,s._reactInternals=t,Uo(t,r,e,n),t=Ko(null,t,r,!0,i,n)):(t.tag=0,$&&i&&Ml(t),ye(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Wp(r),e=Ye(r,e),s){case 0:t=Jo(null,t,r,e,n);break e;case 1:t=$a(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=qa(null,t,r,Ye(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),Jo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),$a(e,t,r,s,n);case 3:e:{if(gd(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Jc(e,t),Xs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yn(Error(F(423)),t),t=eu(e,t,r,n,s);break e}else if(r!==s){s=Yn(Error(F(424)),t),t=eu(e,t,r,n,s);break e}else for(Ie=Ot(t.stateNode.containerInfo.firstChild),xe=t,$=!0,Ve=null,n=jc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){t=Bt(e,t,n);break e}ye(e,t,r,n)}t=t.child}return t;case 5:return Yc(t),e===null&&ko(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Io(r,s)?o=null:i!==null&&Io(r,i)&&(t.flags|=32),Ad(e,t),ye(e,t,o,n),t.child;case 6:return e===null&&ko(t),null;case 13:return Bd(e,t,n);case 4:return xl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):ye(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),ba(e,t,r,s,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(js,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!Fe.current){t=Bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=pt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ho(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ho(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Hn(t,n),s=Ke(s),r=r(s),t.flags|=1,ye(e,t,r,n),t.child;case 14:return r=t.type,s=Ye(r,t.pendingProps),s=Ye(r.type,s),qa(e,t,r,s,n);case 15:return pd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),Fs(e,t),t.tag=1,Se(r)?(e=!0,Ks(t)):e=!1,Hn(t,n),zc(t,r,s),Uo(t,r,s,n),Ko(null,t,r,!0,e,n);case 19:return Cd(e,t,n);case 22:return md(e,t,n)}throw Error(F(156,t.tag))};function Gd(e,t){return lc(e,t)}function Vp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(e,t,n,r){return new Vp(e,t,n,r)}function Xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wp(e){if(typeof e=="function")return Xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fl)return 11;if(e===hl)return 14}return 2}function Pt(e,t){var n=e.alternate;return n===null?(n=Ne(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Xl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vn:return sn(n.children,s,i,t);case dl:o=8,s|=8;break;case ao:return e=Ne(12,n,t,s|2),e.elementType=ao,e.lanes=i,e;case uo:return e=Ne(13,n,t,s),e.elementType=uo,e.lanes=i,e;case co:return e=Ne(19,n,t,s),e.elementType=co,e.lanes=i,e;case Qu:return pi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ku:o=10;break e;case zu:o=9;break e;case fl:o=11;break e;case hl:o=14;break e;case Mt:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ne(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function sn(e,t,n,r){return e=Ne(7,e,r,t),e.lanes=n,e}function pi(e,t,n,r){return e=Ne(22,e,r,t),e.elementType=Qu,e.lanes=n,e.stateNode={isHidden:!1},e}function ji(e,t,n){return e=Ne(6,e,null,t),e.lanes=n,e}function Yi(e,t,n){return t=Ne(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,s,i,o,l,a){return e=new Zp(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ne(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(i),e}function bp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kd(e){if(!e)return Jt;e=e._reactInternals;e:{if(hn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Se(n))return Gc(e,n,t)}return t}function Hd(e,t,n,r,s,i,o,l,a){return e=Vl(n,r,!0,e,s,i,o,l,a),e.context=kd(null),n=e.current,r=Ee(),s=Ht(n),i=pt(r,s),i.callback=t??null,Gt(n,i,s),e.current.lanes=s,Qr(e,s,r),we(e,r),e}function mi(e,t,n,r){var s=t.current,i=Ee(),o=Ht(s);return n=kd(n),t.context===null?t.context=n:t.pendingContext=n,t=pt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(s,t,o),e!==null&&(be(e,s,o,i),_s(e,s,o)),o}function ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wl(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function qp(){return null}var Pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}Ai.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));mi(e,t,null,null)};Ai.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){mi(null,e,null,null)}),t[At]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&Ac(e)}};function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function $p(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ti(o);i.call(u)}}var o=Hd(t,r,e,0,null,!1,!1,"",du);return e._reactRootContainer=o,e[At]=o.current,Lr(e.nodeType===8?e.parentNode:e),cn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ti(a);l.call(u)}}var a=Vl(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=a,e[At]=a.current,Lr(e.nodeType===8?e.parentNode:e),cn(function(){mi(t,a,n,r)}),a}function Bi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ti(o);l.call(a)}}mi(t,o,e,s)}else o=$p(n,t,e,s,r);return ti(o)}fc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(Al(t,n|1),we(t,se()),!(U&6)&&(Xn=se()+500,Qt()))}break;case 13:cn(function(){var r=gt(e,1);if(r!==null){var s=Ee();be(r,e,1,s)}}),Wl(e,1)}};gl=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var n=Ee();be(t,e,134217728,n)}Wl(e,134217728)}};hc=function(e){if(e.tag===13){var t=Ht(e),n=gt(e,t);if(n!==null){var r=Ee();be(n,e,t,r)}Wl(e,t)}};pc=function(){return J};mc=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Eo=function(e,t,n){switch(t){case"input":if(po(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ai(r);if(!s)throw Error(F(90));Yu(r),po(r,s)}}}break;case"textarea":Vu(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}};tc=Ql;nc=cn;var em={usingClientEntryPoint:!1,Events:[Yr,Fn,ai,$u,ec,Ql]},sr={findFiberByHostInstance:$t,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tm={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ic(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{si=fs.inject(tm),ot=fs}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(t))throw Error(F(200));return bp(e,t,null,n)};Oe.createRoot=function(e,t){if(!bl(e))throw Error(F(299));var n=!1,r="",s=Pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vl(e,1,!1,null,null,n,!1,r,s),e[At]=t.current,Lr(e.nodeType===8?e.parentNode:e),new Zl(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ic(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return cn(e)};Oe.hydrate=function(e,t,n){if(!gi(t))throw Error(F(200));return Bi(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!bl(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Pd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Hd(t,null,e,1,n??null,s,!1,i,o),e[At]=t.current,Lr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ai(t)};Oe.render=function(e,t,n){if(!gi(t))throw Error(F(200));return Bi(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!gi(e))throw Error(F(40));return e._reactRootContainer?(cn(function(){Bi(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};Oe.unstable_batchedUpdates=Ql;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gi(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Bi(e,t,n,!1,r)};Oe.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Oe})(qf);var Ud,fu=io;Ud=fu.createRoot,fu.hydrateRoot;const Vr=new wt,ql=new wt,nm=new wt;function rm(e,t,n){const r=Vr.setFromMatrixPosition(e.matrixWorld);r.project(t);const s=n.width/2,i=n.height/2;return[r.x*s+s,-(r.y*i)+i]}function sm(e,t){const n=Vr.setFromMatrixPosition(e.matrixWorld),r=ql.setFromMatrixPosition(t.matrixWorld),s=n.sub(r),i=t.getWorldDirection(nm);return s.angleTo(i)>Math.PI/2}function im(e,t,n,r){const s=Vr.setFromMatrixPosition(e.matrixWorld),i=s.clone();i.project(t),n.setFromCamera(i,t);const o=n.intersectObjects(r,!0);if(o.length){const l=o[0].distance;return s.distanceTo(n.ray.origin)<l}return!0}function om(e,t){if(t instanceof il)return t.zoom;if(t instanceof ol){const n=Vr.setFromMatrixPosition(e.matrixWorld),r=ql.setFromMatrixPosition(t.matrixWorld),s=t.fov*Math.PI/180,i=n.distanceTo(r);return 1/(2*Math.tan(s/2)*i)}else return 1}function lm(e,t,n){if(t instanceof ol||t instanceof il){const r=Vr.setFromMatrixPosition(e.matrixWorld),s=ql.setFromMatrixPosition(t.matrixWorld),i=r.distanceTo(s),o=(n[1]-n[0])/(t.far-t.near),l=n[1]-o*t.far;return Math.round(o*i+l)}}const el=e=>Math.abs(e)<1e-10?0:e;function Nd(e,t,n=""){let r="matrix3d(";for(let s=0;s!==16;s++)r+=el(t[s]*e.elements[s])+(s!==15?",":")");return n+r}const am=(e=>t=>Nd(t,e))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),um=(e=>(t,n)=>Nd(t,e(n),"translate(-50%,-50%)"))(e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1]);function cm(e){return e&&typeof e=="object"&&"current"in e}const oA=I.forwardRef(({children:e,eps:t=.001,style:n,className:r,prepend:s,center:i,fullscreen:o,portal:l,distanceFactor:a,sprite:u=!1,transform:f=!1,occlude:c,onOcclude:d,castShadow:A,receiveShadow:B,material:y,geometry:M,zIndexRange:m=[16777271,0],calculatePosition:p=rm,as:h="div",wrapperClass:E,pointerEvents:g="auto",...C},v)=>{const{gl:_,camera:T,scene:R,size:S,raycaster:N,events:Z,viewport:Ce}=fe(),[P]=I.useState(()=>document.createElement(h)),ke=I.useRef(),K=I.useRef(null),D=I.useRef(0),L=I.useRef([0,0]),G=I.useRef(null),j=I.useRef(null),Y=(l==null?void 0:l.current)||Z.connected||_.domElement.parentNode,Re=I.useRef(null),He=I.useRef(!1),yt=I.useMemo(()=>c&&c!=="blending"||Array.isArray(c)&&c.length&&cm(c[0]),[c]);I.useLayoutEffect(()=>{const et=_.domElement;et.style.zIndex=`${Math.floor(m[0]/2)}`,et.style.position="absolute",et.style.pointerEvents="none"},[]),I.useLayoutEffect(()=>{if(K.current){const et=ke.current=Ud(P);if(R.updateMatrixWorld(),f)P.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const X=p(K.current,T,S);P.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${X[0]}px,${X[1]}px,0);transform-origin:0 0;`}return Y&&(s?Y.prepend(P):Y.appendChild(P)),()=>{Y&&Y.removeChild(P),et.unmount()}}},[Y,f]),I.useLayoutEffect(()=>{E&&(P.className=E)},[E]);const $e=I.useMemo(()=>f?{position:"absolute",top:0,left:0,width:S.width,height:S.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:i?"translate3d(-50%,-50%,0)":"none",...o&&{top:-S.height/2,left:-S.width/2,width:S.width,height:S.height},...n},[n,i,o,S,f]),pn=I.useMemo(()=>({position:"absolute",pointerEvents:g}),[g]);I.useLayoutEffect(()=>{if(He.current=!1,f){var et;(et=ke.current)==null||et.render(I.createElement("div",{ref:G,style:$e},I.createElement("div",{ref:j,style:pn},I.createElement("div",{ref:v,className:r,style:n,children:e}))))}else{var X;(X=ke.current)==null||X.render(I.createElement("div",{ref:v,style:$e,className:r,children:e}))}});const mn=I.useRef(!0);ni(et=>{if(K.current){T.updateMatrixWorld(),K.current.updateWorldMatrix(!0,!1);const X=f?L.current:p(K.current,T,S);if(f||Math.abs(D.current-T.zoom)>t||Math.abs(L.current[0]-X[0])>t||Math.abs(L.current[1]-X[1])>t){const jt=sm(K.current,T);let at=!1;yt&&(c!=="blending"?at=[R]:Array.isArray(c)&&(at=c.map(Yt=>Yt.current)));const Zn=mn.current;if(at){const Yt=im(K.current,T,N,at);mn.current=Yt&&!jt}else mn.current=!jt;Zn!==mn.current&&(d?d(!mn.current):P.style.display=mn.current?"block":"none");const Wr=Math.floor(m[0]/2),Zd=c?yt?[m[0],Wr]:[Wr-1,0]:m;if(P.style.zIndex=`${lm(K.current,T,Zd)}`,f){const[Yt,ra]=[S.width/2,S.height/2],Ci=T.projectionMatrix.elements[5]*ra,{isOrthographicCamera:sa,top:bd,left:qd,bottom:$d,right:ef}=T,tf=am(T.matrixWorldInverse),nf=sa?`scale(${Ci})translate(${el(-(ef+qd)/2)}px,${el((bd+$d)/2)}px)`:`translateZ(${Ci}px)`;let Xt=K.current.matrixWorld;u&&(Xt=T.matrixWorldInverse.clone().transpose().copyPosition(Xt).scale(K.current.scale),Xt.elements[3]=Xt.elements[7]=Xt.elements[11]=0,Xt.elements[15]=1),P.style.width=S.width+"px",P.style.height=S.height+"px",P.style.perspective=sa?"":`${Ci}px`,G.current&&j.current&&(G.current.style.transform=`${nf}${tf}translate(${Yt}px,${ra}px)`,j.current.style.transform=um(Xt,1/((a||10)/400)))}else{const Yt=a===void 0?1:om(K.current,T)*a;P.style.transform=`translate3d(${X[0]}px,${X[1]}px,0) scale(${Yt})`}L.current=X,D.current=T.zoom}}if(!yt&&Re.current&&!He.current)if(f){if(G.current){const X=G.current.children[0];if(X!=null&&X.clientWidth&&X!=null&&X.clientHeight){const{isOrthographicCamera:jt}=T;if(jt||M)C.scale&&(Array.isArray(C.scale)?C.scale instanceof wt?Re.current.scale.copy(C.scale.clone().divideScalar(1)):Re.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):Re.current.scale.setScalar(1/C.scale));else{const at=(a||10)/400,Zn=X.clientWidth*at,Wr=X.clientHeight*at;Re.current.scale.set(Zn,Wr,1)}He.current=!0}}}else{const X=P.children[0];if(X!=null&&X.clientWidth&&X!=null&&X.clientHeight){const jt=1/Ce.factor,at=X.clientWidth*jt,Zn=X.clientHeight*jt;Re.current.scale.set(at,Zn,1),He.current=!0}Re.current.lookAt(et.camera.position)}});const na=I.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return I.createElement("group",zr({},C,{ref:K}),c&&!yt&&I.createElement("mesh",{castShadow:A,receiveShadow:B,ref:Re},M||I.createElement("planeGeometry",null),y||I.createElement("shaderMaterial",{side:sl,vertexShader:na.vertexShader,fragmentShader:na.fragmentShader})))});function dm(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}const fm=e=>e&&e.isCubeTexture;class hm extends Du{constructor(t,n){var r,s;const i=fm(t),l=((r=i?(s=t.image[0])===null||s===void 0?void 0:s.width:t.image.width)!=null?r:1024)/4,a=Math.floor(Math.log2(l)),u=Math.pow(2,a),f=3*Math.max(u,16*7),c=4*u,d=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/c}`,`#define CUBEUV_MAX_MIP ${a}.0`],A=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,B=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,y={map:{value:t},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},M=new sf(1,16),m=new of({uniforms:y,fragmentShader:B,vertexShader:A,side:sl});super(M,m)}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}class $l extends Iu{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Bm(n)}),this.register(function(n){return new Tm(n)}),this.register(function(n){return new Fm(n)}),this.register(function(n){return new ym(n)}),this.register(function(n){return new Em(n)}),this.register(function(n){return new vm(n)}),this.register(function(n){return new _m(n)}),this.register(function(n){return new gm(n)}),this.register(function(n){return new Mm(n)}),this.register(function(n){return new Cm(n)}),this.register(function(n){return new mm(n)}),this.register(function(n){return new Sm(n)})}load(t,n,r,s){const i=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=nn.extractUrlBase(t),this.manager.itemStart(t);const l=function(u){s?s(u):console.error(u),i.manager.itemError(t),i.manager.itemEnd(t)},a=new Ds(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(u){try{i.parse(u,o,function(f){n(f),i.manager.itemEnd(t)},l)}catch(f){l(f)}},r,l)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,r,s){let i;const o={},l={};if(typeof t=="string")i=t;else if(nn.decodeText(new Uint8Array(t,0,4))===Jd){try{o[H.KHR_BINARY_GLTF]=new wm(t)}catch(c){s&&s(c);return}i=o[H.KHR_BINARY_GLTF].content}else i=nn.decodeText(new Uint8Array(t));const a=JSON.parse(i);if(a.asset===void 0||a.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Jm(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const c=this.pluginCallbacks[f](u);l[c.name]=c,o[c.name]=!0}if(a.extensionsUsed)for(let f=0;f<a.extensionsUsed.length;++f){const c=a.extensionsUsed[f],d=a.extensionsRequired||[];switch(c){case H.KHR_MATERIALS_UNLIT:o[c]=new Am;break;case H.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[c]=new Im;break;case H.KHR_DRACO_MESH_COMPRESSION:o[c]=new Rm(a,this.dracoLoader);break;case H.KHR_TEXTURE_TRANSFORM:o[c]=new Dm;break;case H.KHR_MESH_QUANTIZATION:o[c]=new xm;break;default:d.indexOf(c)>=0&&l[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}u.setExtensions(o),u.setPlugins(l),u.parse(r,s)}parseAsync(t,n){const r=this;return new Promise(function(s,i){r.parse(t,n,s,i)})}}function pm(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const H={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class mm{constructor(t){this.parser=t,this.name=H.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let r=0,s=n.length;r<s;r++){const i=n[r];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const n=this.parser,r="light:"+t;let s=n.cache.get(r);if(s)return s;const i=n.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let u;const f=new We(16777215);a.color!==void 0&&f.fromArray(a.color);const c=a.range!==void 0?a.range:0;switch(a.type){case"directional":u=new uf(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new af(f),u.distance=c;break;case"spot":u=new lf(f),u.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,u.angle=a.spot.outerConeAngle,u.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return u.position.set(0,0,0),u.decay=2,a.intensity!==void 0&&(u.intensity=a.intensity),u.name=n.createUniqueName(a.name||"light_"+t),s=Promise.resolve(u),n.cache.add(r,s),s}createNodeAttachment(t){const n=this,r=this.parser,i=r.json.nodes[t],l=(i.extensions&&i.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(a){return r._getNodeRef(n.cache,l,a)})}}class Am{constructor(){this.name=H.KHR_MATERIALS_UNLIT}getMaterialType(){return dr}extendParams(t,n,r){const s=[];t.color=new We(1,1,1),t.opacity=1;const i=n.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const o=i.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}i.baseColorTexture!==void 0&&s.push(r.assignTexture(t,"map",i.baseColorTexture,Ut))}return Promise.all(s)}}class gm{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name].emissiveStrength;return i!==void 0&&(n.emissiveIntensity=i),Promise.resolve()}}class Bm{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&i.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&i.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(i.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new xu(l,l)}return Promise.all(i)}}class Cm{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&i.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&i.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class ym{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_SHEEN}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[];n.sheenColor=new We(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=s.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&i.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Ut)),o.sheenRoughnessTexture!==void 0&&i.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class Em{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&i.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class vm{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_VOLUME}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&i.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return n.attenuationColor=new We(l[0],l[1],l[2]),Promise.all(i)}}class _m{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_IOR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return n.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Mm{constructor(t){this.parser=t,this.name=H.KHR_MATERIALS_SPECULAR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:dn}extendMaterialParams(t,n){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&i.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return n.specularColor=new We(l[0],l[1],l[2]),o.specularColorTexture!==void 0&&i.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,Ut)),Promise.all(i)}}class Tm{constructor(t){this.parser=t,this.name=H.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,r=n.json,s=r.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const i=s.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,i.source,o)}}class Fm{constructor(t){this.parser=t,this.name=H.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const n=this.name,r=this.parser,s=r.json,i=s.textures[t];if(!i.extensions||!i.extensions[n])return null;const o=i.extensions[n],l=s.images[o.source];let a=r.textureLoader;if(l.uri){const u=r.options.manager.getHandler(l.uri);u!==null&&(a=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(t,o.source,a);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class Sm{constructor(t){this.name=H.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,r=n.bufferViews[t];if(r.extensions&&r.extensions[this.name]){const s=r.extensions[this.name],i=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(l){const a=s.byteOffset||0,u=s.byteLength||0,f=s.count,c=s.byteStride,d=new Uint8Array(l,a,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,c,d,s.mode,s.filter).then(function(A){return A.buffer}):o.ready.then(function(){const A=new ArrayBuffer(f*c);return o.decodeGltfBuffer(new Uint8Array(A),f,c,d,s.mode,s.filter),A})})}else return null}}const Jd="glTF",ir=12,hu={JSON:1313821514,BIN:5130562};class wm{constructor(t){this.name=H.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,ir);if(this.header={magic:nn.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Jd)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-ir,s=new DataView(t,ir);let i=0;for(;i<r;){const o=s.getUint32(i,!0);i+=4;const l=s.getUint32(i,!0);if(i+=4,l===hu.JSON){const a=new Uint8Array(t,ir+i,o);this.content=nn.decodeText(a)}else if(l===hu.BIN){const a=ir+i;this.body=t.slice(a,a+o)}i+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Rm{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=H.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const r=this.json,s=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,l={},a={},u={};for(const f in o){const c=nl[f]||f.toLowerCase();l[c]=o[f]}for(const f in t.attributes){const c=nl[f]||f.toLowerCase();if(o[f]!==void 0){const d=r.accessors[t.attributes[f]],A=Kr[d.componentType];u[c]=A.name,a[c]=d.normalized===!0}}return n.getDependency("bufferView",i).then(function(f){return new Promise(function(c){s.decodeDracoFile(f,function(d){for(const A in d.attributes){const B=d.attributes[A],y=a[A];y!==void 0&&(B.normalized=y)}c(d)},l,u)})})}}class Dm{constructor(){this.name=H.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(t=t.clone(),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class tl extends ll{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),l={specular:{value:new We().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=l,this.onBeforeCompile=function(a){for(const u in l)a.uniforms[u]=l[u];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return l.specular.value},set:function(a){l.specular.value=a}},specularMap:{get:function(){return l.specularMap.value},set:function(a){l.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return l.glossiness.value},set:function(a){l.glossiness.value=a}},glossinessMap:{get:function(){return l.glossinessMap.value},set:function(a){l.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Im{constructor(){this.name=H.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return tl}extendParams(t,n,r){const s=n.extensions[this.name];t.color=new We(1,1,1),t.opacity=1;const i=[];if(Array.isArray(s.diffuseFactor)){const o=s.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(s.diffuseTexture!==void 0&&i.push(r.assignTexture(t,"map",s.diffuseTexture,Ut)),t.emissive=new We(0,0,0),t.glossiness=s.glossinessFactor!==void 0?s.glossinessFactor:1,t.specular=new We(1,1,1),Array.isArray(s.specularFactor)&&t.specular.fromArray(s.specularFactor),s.specularGlossinessTexture!==void 0){const o=s.specularGlossinessTexture;i.push(r.assignTexture(t,"glossinessMap",o)),i.push(r.assignTexture(t,"specularMap",o,Ut))}return Promise.all(i)}createMaterial(t){const n=new tl(t);return n.fog=!0,n.color=t.color,n.map=t.map===void 0?null:t.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=t.aoMap===void 0?null:t.aoMap,n.aoMapIntensity=1,n.emissive=t.emissive,n.emissiveIntensity=t.emissiveIntensity===void 0?1:t.emissiveIntensity,n.emissiveMap=t.emissiveMap===void 0?null:t.emissiveMap,n.bumpMap=t.bumpMap===void 0?null:t.bumpMap,n.bumpScale=1,n.normalMap=t.normalMap===void 0?null:t.normalMap,n.normalMapType=cf,t.normalScale&&(n.normalScale=t.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=t.specularMap===void 0?null:t.specularMap,n.specular=t.specular,n.glossinessMap=t.glossinessMap===void 0?null:t.glossinessMap,n.glossiness=t.glossiness,n.alphaMap=null,n.envMap=t.envMap===void 0?null:t.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class xm{constructor(){this.name=H.KHR_MESH_QUANTIZATION}}class Kd extends Kf{constructor(t,n,r,s){super(t,n,r,s)}copySampleValue_(t){const n=this.resultBuffer,r=this.sampleValues,s=this.valueSize,i=t*s*3+s;for(let o=0;o!==s;o++)n[o]=r[i+o];return n}interpolate_(t,n,r,s){const i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,a=l*2,u=l*3,f=s-n,c=(r-n)/f,d=c*c,A=d*c,B=t*u,y=B-u,M=-2*A+3*d,m=A-d,p=1-M,h=m-d+c;for(let E=0;E!==l;E++){const g=o[y+E+l],C=o[y+E+a]*f,v=o[B+E+l],_=o[B+E]*f;i[E]=p*g+h*C+M*v+m*_}return i}}const Lm=new Sf;class Om extends Kd{interpolate_(t,n,r,s){const i=super.interpolate_(t,n,r,s);return Lm.fromArray(i).normalize().toArray(i),i}}const ut={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Kr={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pu={9728:wf,9729:Nn,9984:Rf,9985:Df,9986:If,9987:Lu},mu={33071:xf,33648:Lf,10497:so},Au={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},nl={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},vt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Gm={CUBICSPLINE:void 0,LINEAR:Gu,STEP:Of},Xi={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function km(e){return e.DefaultMaterial===void 0&&(e.DefaultMaterial=new ll({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Gf})),e.DefaultMaterial}function or(e,t,n){for(const r in n.extensions)e[r]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function qt(e,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Hm(e,t,n){let r=!1,s=!1,i=!1;for(let u=0,f=t.length;u<f;u++){const c=t[u];if(c.POSITION!==void 0&&(r=!0),c.NORMAL!==void 0&&(s=!0),c.COLOR_0!==void 0&&(i=!0),r&&s&&i)break}if(!r&&!s&&!i)return Promise.resolve(e);const o=[],l=[],a=[];for(let u=0,f=t.length;u<f;u++){const c=t[u];if(r){const d=c.POSITION!==void 0?n.getDependency("accessor",c.POSITION):e.attributes.position;o.push(d)}if(s){const d=c.NORMAL!==void 0?n.getDependency("accessor",c.NORMAL):e.attributes.normal;l.push(d)}if(i){const d=c.COLOR_0!==void 0?n.getDependency("accessor",c.COLOR_0):e.attributes.color;a.push(d)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(a)]).then(function(u){const f=u[0],c=u[1],d=u[2];return r&&(e.morphAttributes.position=f),s&&(e.morphAttributes.normal=c),i&&(e.morphAttributes.color=d),e.morphTargetsRelative=!0,e})}function Pm(e,t){if(e.updateMorphTargets(),t.weights!==void 0)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let r=0,s=n.length;r<s;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Um(e){const t=e.extensions&&e.extensions[H.KHR_DRACO_MESH_COMPRESSION];let n;return t?n="draco:"+t.bufferView+":"+t.indices+":"+gu(t.attributes):n=e.indices+":"+gu(e.attributes)+":"+e.mode,n}function gu(e){let t="";const n=Object.keys(e).sort();for(let r=0,s=n.length;r<s;r++)t+=n[r]+":"+e[n[r]]+";";return t}function rl(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Nm(e){return e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0?"image/jpeg":e.search(/\.webp($|\?)/i)>0||e.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Jm{constructor(t={},n={}){var r,s;this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new pm,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const i=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,l=typeof navigator<"u"&&o?(s=navigator.userAgent)===null||s===void 0?void 0:s.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||i||o&&l<98?this.textureLoader=new df(this.options.manager):this.textureLoader=new ff(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ds(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const r=this,s=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const l={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:r,userData:{}};or(i,l,s),qt(l,s),Promise.all(r._invokeAll(function(a){return a.afterRoot&&a.afterRoot(l)})).then(function(){t(l)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let s=0,i=n.length;s<i;s++){const o=n[s].joints;for(let l=0,a=o.length;l<a;l++)t[o[l]].isBone=!0}for(let s=0,i=t.length;s<i;s++){const o=t[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,r){if(t.refs[n]<=1)return r;const s=r.clone(),i=(o,l)=>{const a=this.associations.get(o);a!=null&&this.associations.set(l,a);for(const[u,f]of o.children.entries())i(f,l.children[u])};return i(r,s),s.name+="_instance_"+t.uses[n]++,s}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const s=t(n[r]);if(s)return s}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let s=0;s<n.length;s++){const i=t(n[s]);i&&r.push(i)}return r}getDependency(t,n){const r=t+":"+n;let s=this.cache.get(r);if(!s){switch(t){case"scene":s=this.loadScene(n);break;case"node":s=this.loadNode(n);break;case"mesh":s=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,s)}return s}getDependencies(t){let n=this.cache.get(t);if(!n){const r=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(i,o){return r.getDependency(t,o)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[H.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(i,o){r.load(nn.resolveURL(n.uri,s.path),i,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(r){const s=n.byteLength||0,i=n.byteOffset||0;return r.slice(i,i+s)})}loadAccessor(t){const n=this,r=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0)return Promise.resolve(null);const i=[];return s.bufferView!==void 0?i.push(this.getDependency("bufferView",s.bufferView)):i.push(null),s.sparse!==void 0&&(i.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(i).then(function(o){const l=o[0],a=Au[s.type],u=Kr[s.componentType],f=u.BYTES_PER_ELEMENT,c=f*a,d=s.byteOffset||0,A=s.bufferView!==void 0?r.bufferViews[s.bufferView].byteStride:void 0,B=s.normalized===!0;let y,M;if(A&&A!==c){const m=Math.floor(d/A),p="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+m+":"+s.count;let h=n.cache.get(p);h||(y=new u(l,m*A,s.count*A/f),h=new hf(y,A/f),n.cache.add(p,h)),M=new kf(h,a,d%A/f,B)}else l===null?y=new u(s.count*a):y=new u(l,d,s.count*a),M=new Is(y,a,B);if(s.sparse!==void 0){const m=Au.SCALAR,p=Kr[s.sparse.indices.componentType],h=s.sparse.indices.byteOffset||0,E=s.sparse.values.byteOffset||0,g=new p(o[1],h,s.sparse.count*m),C=new u(o[2],E,s.sparse.count*a);l!==null&&(M=new Is(M.array.slice(),M.itemSize,M.normalized));for(let v=0,_=g.length;v<_;v++){const T=g[v];if(M.setX(T,C[v*a]),a>=2&&M.setY(T,C[v*a+1]),a>=3&&M.setZ(T,C[v*a+2]),a>=4&&M.setW(T,C[v*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(t){const n=this.json,r=this.options,i=n.textures[t].source,o=n.images[i];let l=this.textureLoader;if(o.uri){const a=r.manager.getHandler(o.uri);a!==null&&(l=a)}return this.loadTextureImage(t,i,l)}loadTextureImage(t,n,r){const s=this,i=this.json,o=i.textures[t],l=i.images[n],a=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[a])return this.textureCache[a];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,o.name&&(f.name=o.name);const d=(i.samplers||{})[o.sampler]||{};return f.magFilter=pu[d.magFilter]||Nn,f.minFilter=pu[d.minFilter]||Lu,f.wrapS=mu[d.wrapS]||so,f.wrapT=mu[d.wrapT]||so,s.associations.set(f,{textures:t}),f}).catch(function(){return null});return this.textureCache[a]=u,u}loadImageSource(t,n){const r=this,s=this.json,i=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(c=>c.clone());const o=s.images[t],l=self.URL||self.webkitURL;let a=o.uri||"",u=!1;if(o.bufferView!==void 0)a=r.getDependency("bufferView",o.bufferView).then(function(c){u=!0;const d=new Blob([c],{type:o.mimeType});return a=l.createObjectURL(d),a});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const f=Promise.resolve(a).then(function(c){return new Promise(function(d,A){let B=d;n.isImageBitmapLoader===!0&&(B=function(y){const M=new ia(y);M.needsUpdate=!0,d(M)}),n.load(nn.resolveURL(c,i.path),B,void 0,A)})}).then(function(c){return u===!0&&l.revokeObjectURL(a),c.userData.mimeType=o.mimeType||Nm(o.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),c});return this.sourceCache[t]=f,f}assignTexture(t,n,r,s){const i=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(n==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+n+" not yet supported."),i.extensions[H.KHR_TEXTURE_TRANSFORM]){const l=r.extensions!==void 0?r.extensions[H.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const a=i.associations.get(o);o=i.extensions[H.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),i.associations.set(o,a)}}return s!==void 0&&(o.encoding=s),t[n]=o,o})}assignFinalMaterial(t){const n=t.geometry;let r=t.material;const s=n.attributes.tangent===void 0,i=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(t.isPoints){const l="PointsMaterial:"+r.uuid;let a=this.cache.get(l);a||(a=new pf,yi.prototype.copy.call(a,r),a.color.copy(r.color),a.map=r.map,a.sizeAttenuation=!1,this.cache.add(l,a)),r=a}else if(t.isLine){const l="LineBasicMaterial:"+r.uuid;let a=this.cache.get(l);a||(a=new mf,yi.prototype.copy.call(a,r),a.color.copy(r.color),this.cache.add(l,a)),r=a}if(s||i||o){let l="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),s&&(l+="derivative-tangents:"),i&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let a=this.cache.get(l);a||(a=r.clone(),i&&(a.vertexColors=!0),o&&(a.flatShading=!0),s&&(a.normalScale&&(a.normalScale.y*=-1),a.clearcoatNormalScale&&(a.clearcoatNormalScale.y*=-1)),this.cache.add(l,a),this.associations.set(a,this.associations.get(r))),r=a}r.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),t.material=r}getMaterialType(){return ll}loadMaterial(t){const n=this,r=this.json,s=this.extensions,i=r.materials[t];let o;const l={},a=i.extensions||{},u=[];if(a[H.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const c=s[H.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=c.getMaterialType(),u.push(c.extendParams(l,i,n))}else if(a[H.KHR_MATERIALS_UNLIT]){const c=s[H.KHR_MATERIALS_UNLIT];o=c.getMaterialType(),u.push(c.extendParams(l,i,n))}else{const c=i.pbrMetallicRoughness||{};if(l.color=new We(1,1,1),l.opacity=1,Array.isArray(c.baseColorFactor)){const d=c.baseColorFactor;l.color.fromArray(d),l.opacity=d[3]}c.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",c.baseColorTexture,Ut)),l.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,l.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",c.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",c.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(t)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(t,l)})))}i.doubleSided===!0&&(l.side=sl);const f=i.alphaMode||Xi.OPAQUE;if(f===Xi.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,f===Xi.MASK&&(l.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&o!==dr&&(u.push(n.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new xu(1,1),i.normalTexture.scale!==void 0)){const c=i.normalTexture.scale;l.normalScale.set(c,c)}return i.occlusionTexture!==void 0&&o!==dr&&(u.push(n.assignTexture(l,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&o!==dr&&(l.emissive=new We().fromArray(i.emissiveFactor)),i.emissiveTexture!==void 0&&o!==dr&&u.push(n.assignTexture(l,"emissiveMap",i.emissiveTexture,Ut)),Promise.all(u).then(function(){let c;return o===tl?c=s[H.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):c=new o(l),i.name&&(c.name=i.name),qt(c,i),n.associations.set(c,{materials:t}),i.extensions&&or(s,c,i),c})}createUniqueName(t){const n=Af.sanitizeNodeName(t||"");let r=n;for(let s=1;this.nodeNamesUsed[r];++s)r=n+"_"+s;return this.nodeNamesUsed[r]=!0,r}loadGeometries(t){const n=this,r=this.extensions,s=this.primitiveCache;function i(l){return r[H.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(a){return Bu(a,l,n)})}const o=[];for(let l=0,a=t.length;l<a;l++){const u=t[l],f=Um(u),c=s[f];if(c)o.push(c.promise);else{let d;u.extensions&&u.extensions[H.KHR_DRACO_MESH_COMPRESSION]?d=i(u):d=Bu(new Ou,u,n),s[f]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(t){const n=this,r=this.json,s=this.extensions,i=r.meshes[t],o=i.primitives,l=[];for(let a=0,u=o.length;a<u;a++){const f=o[a].material===void 0?km(this.cache):this.getDependency("material",o[a].material);l.push(f)}return l.push(n.loadGeometries(o)),Promise.all(l).then(function(a){const u=a.slice(0,a.length-1),f=a[a.length-1],c=[];for(let A=0,B=f.length;A<B;A++){const y=f[A],M=o[A];let m;const p=u[A];if(M.mode===ut.TRIANGLES||M.mode===ut.TRIANGLE_STRIP||M.mode===ut.TRIANGLE_FAN||M.mode===void 0)m=i.isSkinnedMesh===!0?new gf(y,p):new Du(y,p),m.isSkinnedMesh===!0&&!m.geometry.attributes.skinWeight.normalized&&m.normalizeSkinWeights(),M.mode===ut.TRIANGLE_STRIP?m.geometry=Cu(m.geometry,Hf):M.mode===ut.TRIANGLE_FAN&&(m.geometry=Cu(m.geometry,ku));else if(M.mode===ut.LINES)m=new Bf(y,p);else if(M.mode===ut.LINE_STRIP)m=new Cf(y,p);else if(M.mode===ut.LINE_LOOP)m=new yf(y,p);else if(M.mode===ut.POINTS)m=new Ef(y,p);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(m.geometry.morphAttributes).length>0&&Pm(m,i),m.name=n.createUniqueName(i.name||"mesh_"+t),qt(m,i),M.extensions&&or(s,m,M),n.assignFinalMaterial(m),c.push(m)}for(let A=0,B=c.length;A<B;A++)n.associations.set(c[A],{meshes:t,primitives:A});if(c.length===1)return c[0];const d=new Ei;n.associations.set(d,{meshes:t});for(let A=0,B=c.length;A<B;A++)d.add(c[A]);return d})}loadCamera(t){let n;const r=this.json.cameras[t],s=r[r.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new ol(vf.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):r.type==="orthographic"&&(n=new il(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),qt(n,r),Promise.resolve(n)}loadSkin(t){const n=this.json.skins[t],r={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",n.inverseBindMatrices).then(function(s){return r.inverseBindMatrices=s,r})}loadAnimation(t){const r=this.json.animations[t],s=[],i=[],o=[],l=[],a=[];for(let u=0,f=r.channels.length;u<f;u++){const c=r.channels[u],d=r.samplers[c.sampler],A=c.target,B=A.node,y=r.parameters!==void 0?r.parameters[d.input]:d.input,M=r.parameters!==void 0?r.parameters[d.output]:d.output;s.push(this.getDependency("node",B)),i.push(this.getDependency("accessor",y)),o.push(this.getDependency("accessor",M)),l.push(d),a.push(A)}return Promise.all([Promise.all(s),Promise.all(i),Promise.all(o),Promise.all(l),Promise.all(a)]).then(function(u){const f=u[0],c=u[1],d=u[2],A=u[3],B=u[4],y=[];for(let m=0,p=f.length;m<p;m++){const h=f[m],E=c[m],g=d[m],C=A[m],v=B[m];if(h===void 0)continue;h.updateMatrix();let _;switch(vt[v.path]){case vt.weights:_=Uf;break;case vt.rotation:_=oa;break;case vt.position:case vt.scale:default:_=Pf;break}const T=h.name?h.name:h.uuid,R=C.interpolation!==void 0?Gm[C.interpolation]:Gu,S=[];vt[v.path]===vt.weights?h.traverse(function(Z){Z.morphTargetInfluences&&S.push(Z.name?Z.name:Z.uuid)}):S.push(T);let N=g.array;if(g.normalized){const Z=rl(N.constructor),Ce=new Float32Array(N.length);for(let P=0,ke=N.length;P<ke;P++)Ce[P]=N[P]*Z;N=Ce}for(let Z=0,Ce=S.length;Z<Ce;Z++){const P=new _(S[Z]+"."+vt[v.path],E.array,N,R);C.interpolation==="CUBICSPLINE"&&(P.createInterpolant=function(K){const D=this instanceof oa?Om:Kd;return new D(this.times,this.values,this.getValueSize()/3,K)},P.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(P)}}const M=r.name?r.name:"animation_"+t;return new _f(M,void 0,y)})}createNodeMesh(t){const n=this.json,r=this,s=n.nodes[t];return s.mesh===void 0?null:r.getDependency("mesh",s.mesh).then(function(i){const o=r._getNodeRef(r.meshCache,s.mesh,i);return s.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let a=0,u=s.weights.length;a<u;a++)l.morphTargetInfluences[a]=s.weights[a]}),o})}loadNode(t){const n=this.json,r=this.extensions,s=this,i=n.nodes[t],o=i.name?s.createUniqueName(i.name):"";return function(){const l=[],a=s._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(t)});return a&&l.push(a),i.camera!==void 0&&l.push(s.getDependency("camera",i.camera).then(function(u){return s._getNodeRef(s.cameraCache,i.camera,u)})),s._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(t)}).forEach(function(u){l.push(u)}),Promise.all(l)}().then(function(l){let a;if(i.isBone===!0?a=new Mf:l.length>1?a=new Ei:l.length===1?a=l[0]:a=new Tf,a!==l[0])for(let u=0,f=l.length;u<f;u++)a.add(l[u]);if(i.name&&(a.userData.name=i.name,a.name=o),qt(a,i),i.extensions&&or(r,a,i),i.matrix!==void 0){const u=new Hu;u.fromArray(i.matrix),a.applyMatrix4(u)}else i.translation!==void 0&&a.position.fromArray(i.translation),i.rotation!==void 0&&a.quaternion.fromArray(i.rotation),i.scale!==void 0&&a.scale.fromArray(i.scale);return s.associations.has(a)||s.associations.set(a,{}),s.associations.get(a).nodes=t,a})}loadScene(t){const n=this.json,r=this.extensions,s=this.json.scenes[t],i=this,o=new Ei;s.name&&(o.name=i.createUniqueName(s.name)),qt(o,s),s.extensions&&or(r,o,s);const l=s.nodes||[],a=[];for(let u=0,f=l.length;u<f;u++)a.push(zd(l[u],o,n,i));return Promise.all(a).then(function(){const u=f=>{const c=new Map;for(const[d,A]of i.associations)(d instanceof yi||d instanceof ia)&&c.set(d,A);return f.traverse(d=>{const A=i.associations.get(d);A!=null&&c.set(d,A)}),c};return i.associations=u(o),o})}}function zd(e,t,n,r){const s=n.nodes[e];return r.getDependency("node",e).then(function(i){if(s.skin===void 0)return i;let o;return r.getDependency("skin",s.skin).then(function(l){o=l;const a=[];for(let u=0,f=o.joints.length;u<f;u++)a.push(r.getDependency("node",o.joints[u]));return Promise.all(a)}).then(function(l){return i.traverse(function(a){if(!a.isMesh)return;const u=[],f=[];for(let c=0,d=l.length;c<d;c++){const A=l[c];if(A){u.push(A);const B=new Hu;o.inverseBindMatrices!==void 0&&B.fromArray(o.inverseBindMatrices.array,c*16),f.push(B)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[c])}a.bind(new Ff(u,f),a.matrixWorld)}),i})}).then(function(i){t.add(i);const o=[];if(s.children){const l=s.children;for(let a=0,u=l.length;a<u;a++){const f=l[a];o.push(zd(f,i,n,r))}}return Promise.all(o)})}function Km(e,t,n){const r=t.attributes,s=new Nf;if(r.POSITION!==void 0){const l=n.json.accessors[r.POSITION],a=l.min,u=l.max;if(a!==void 0&&u!==void 0){if(s.set(new wt(a[0],a[1],a[2]),new wt(u[0],u[1],u[2])),l.normalized){const f=rl(Kr[l.componentType]);s.min.multiplyScalar(f),s.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=t.targets;if(i!==void 0){const l=new wt,a=new wt;for(let u=0,f=i.length;u<f;u++){const c=i[u];if(c.POSITION!==void 0){const d=n.json.accessors[c.POSITION],A=d.min,B=d.max;if(A!==void 0&&B!==void 0){if(a.setX(Math.max(Math.abs(A[0]),Math.abs(B[0]))),a.setY(Math.max(Math.abs(A[1]),Math.abs(B[1]))),a.setZ(Math.max(Math.abs(A[2]),Math.abs(B[2]))),d.normalized){const y=rl(Kr[d.componentType]);a.multiplyScalar(y)}l.max(a)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(l)}e.boundingBox=s;const o=new Jf;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=o}function Bu(e,t,n){const r=t.attributes,s=[];function i(o,l){return n.getDependency("accessor",o).then(function(a){e.setAttribute(l,a)})}for(const o in r){const l=nl[o]||o.toLowerCase();l in e.attributes||s.push(i(r[o],l))}if(t.indices!==void 0&&!e.index){const o=n.getDependency("accessor",t.indices).then(function(l){e.setIndex(l)});s.push(o)}return qt(e,t),Km(e,t,n),Promise.all(s).then(function(){return t.targets!==void 0?Hm(e,t.targets,n):e})}function Cu(e,t){let n=e.getIndex();if(n===null){const o=[],l=e.getAttribute("position");if(l!==void 0){for(let a=0;a<l.count;a++)o.push(a);e.setIndex(o),n=e.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e}const r=n.count-2,s=[];if(t===ku)for(let o=1;o<=r;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=e.clone();return i.setIndex(s),i}class zm extends zf{constructor(t){super(t),this.type=yn}parse(t){const l=function(h,E){switch(h){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},c=`
`,d=function(h,E,g){E=E||1024;let v=h.pos,_=-1,T=0,R="",S=String.fromCharCode.apply(null,new Uint16Array(h.subarray(v,v+128)));for(;0>(_=S.indexOf(c))&&T<E&&v<h.byteLength;)R+=S,T+=S.length,v+=128,S+=String.fromCharCode.apply(null,new Uint16Array(h.subarray(v,v+128)));return-1<_?(g!==!1&&(h.pos+=T+_+1),R+S.slice(0,_)):!1},A=function(h){const E=/^#\?(\S+)/,g=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,v=/^\s*FORMAT=(\S+)\s*$/,_=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let R,S;if(h.pos>=h.byteLength||!(R=d(h)))return l(1,"no header found");if(!(S=R.match(E)))return l(3,"bad initial token");for(T.valid|=1,T.programtype=S[1],T.string+=R+`
`;R=d(h),R!==!1;){if(T.string+=R+`
`,R.charAt(0)==="#"){T.comments+=R+`
`;continue}if((S=R.match(g))&&(T.gamma=parseFloat(S[1])),(S=R.match(C))&&(T.exposure=parseFloat(S[1])),(S=R.match(v))&&(T.valid|=2,T.format=S[1]),(S=R.match(_))&&(T.valid|=4,T.height=parseInt(S[1],10),T.width=parseInt(S[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:l(3,"missing image size specifier"):l(3,"missing format specifier")},B=function(h,E,g){const C=E;if(C<8||C>32767||h[0]!==2||h[1]!==2||h[2]&128)return new Uint8Array(h);if(C!==(h[2]<<8|h[3]))return l(3,"wrong scanline width");const v=new Uint8Array(4*E*g);if(!v.length)return l(4,"unable to allocate buffer space");let _=0,T=0;const R=4*C,S=new Uint8Array(4),N=new Uint8Array(R);let Z=g;for(;Z>0&&T<h.byteLength;){if(T+4>h.byteLength)return l(1);if(S[0]=h[T++],S[1]=h[T++],S[2]=h[T++],S[3]=h[T++],S[0]!=2||S[1]!=2||(S[2]<<8|S[3])!=C)return l(3,"bad rgbe scanline format");let Ce=0,P;for(;Ce<R&&T<h.byteLength;){P=h[T++];const K=P>128;if(K&&(P-=128),P===0||Ce+P>R)return l(3,"bad scanline data");if(K){const D=h[T++];for(let L=0;L<P;L++)N[Ce++]=D}else N.set(h.subarray(T,T+P),Ce),Ce+=P,T+=P}const ke=C;for(let K=0;K<ke;K++){let D=0;v[_]=N[K+D],D+=C,v[_+1]=N[K+D],D+=C,v[_+2]=N[K+D],D+=C,v[_+3]=N[K+D],_+=4}Z--}return v},y=function(h,E,g,C){const v=h[E+3],_=Math.pow(2,v-128)/255;g[C+0]=h[E+0]*_,g[C+1]=h[E+1]*_,g[C+2]=h[E+2]*_,g[C+3]=1},M=function(h,E,g,C){const v=h[E+3],_=Math.pow(2,v-128)/255;g[C+0]=Zr.toHalfFloat(Math.min(h[E+0]*_,65504)),g[C+1]=Zr.toHalfFloat(Math.min(h[E+1]*_,65504)),g[C+2]=Zr.toHalfFloat(Math.min(h[E+2]*_,65504)),g[C+3]=Zr.toHalfFloat(1)},m=new Uint8Array(t);m.pos=0;const p=A(m);if(p!==-1){const h=p.width,E=p.height,g=B(m.subarray(m.pos),h,E);if(g!==-1){let C,v,_;switch(this.type){case Cs:_=g.length/4;const T=new Float32Array(_*4);for(let S=0;S<_;S++)y(g,S*4,T,S*4);C=T,v=Cs;break;case yn:_=g.length/4;const R=new Uint16Array(_*4);for(let S=0;S<_;S++)M(g,S*4,R,S*4);C=R,v=yn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:h,height:E,data:C,header:p.string,gamma:p.gamma,exposure:p.exposure,type:v}}}return null}setDataType(t){return this.type=t,this}load(t,n,r,s){function i(o,l){switch(o.type){case Cs:case yn:o.encoding=Pu,o.minFilter=Nn,o.magFilter=Nn,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,l)}return super.load(t,i,r,s)}}const Vi=new WeakMap;class Qm extends Iu{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,r,s){const i=new Ds(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,o=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,l).then(n).catch(s)},r,s)}decodeDracoFile(t,n,r,s){const i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(t,i).then(n)}decodeGeometry(t,n){for(const a in n.attributeTypes){const u=n.attributeTypes[a];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[a]=u.name)}const r=JSON.stringify(n);if(Vi.has(t)){const a=Vi.get(t);if(a.key===r)return a.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const i=this.workerNextTaskID++,o=t.byteLength,l=this._getWorker(i,o).then(a=>(s=a,new Promise((u,f)=>{s._callbacks[i]={resolve:u,reject:f},s.postMessage({type:"decode",id:i,taskConfig:n,buffer:t},[t])}))).then(a=>this._createGeometry(a.geometry));return l.catch(()=>!0).then(()=>{s&&i&&this._releaseTask(s,i)}),Vi.set(t,{key:r,promise:l}),l}_createGeometry(t){const n=new Ou;t.index&&n.setIndex(new Is(t.index.array,1));for(let r=0;r<t.attributes.length;r++){const s=t.attributes[r],i=s.name,o=s.array,l=s.itemSize;n.setAttribute(i,new Is(o,l))}return n}_loadLibrary(t,n){const r=new Ds(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((s,i)=>{r.load(t,s,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const s=r[0];t||(this.decoderConfig.wasmBinary=r[1]);const i=jm.toString(),o=["/* draco decoder */",s,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(i){const o=i.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,i){return s._taskLoad>i._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[t]=n,r._taskLoad+=n,r})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function jm(){let e,t;onmessage=function(o){const l=o.data;switch(l.type){case"init":e=l.decoderConfig,t=new Promise(function(f){e.onModuleLoaded=function(c){f({draco:c})},DracoDecoderModule(e)});break;case"decode":const a=l.buffer,u=l.taskConfig;t.then(f=>{const c=f.draco,d=new c.Decoder,A=new c.DecoderBuffer;A.Init(new Int8Array(a),a.byteLength);try{const B=n(c,d,A,u),y=B.attributes.map(M=>M.array.buffer);B.index&&y.push(B.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:B},y)}catch(B){console.error(B),self.postMessage({type:"error",id:l.id,error:B.message})}finally{c.destroy(A),c.destroy(d)}});break}};function n(o,l,a,u){const f=u.attributeIDs,c=u.attributeTypes;let d,A;const B=l.GetEncodedGeometryType(a);if(B===o.TRIANGULAR_MESH)d=new o.Mesh,A=l.DecodeBufferToMesh(a,d);else if(B===o.POINT_CLOUD)d=new o.PointCloud,A=l.DecodeBufferToPointCloud(a,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!A.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const y={index:null,attributes:[]};for(const M in f){const m=self[c[M]];let p,h;if(u.useUniqueIDs)h=f[M],p=l.GetAttributeByUniqueId(d,h);else{if(h=l.GetAttributeId(d,o[f[M]]),h===-1)continue;p=l.GetAttribute(d,h)}y.attributes.push(s(o,l,d,M,m,p))}return B===o.TRIANGULAR_MESH&&(y.index=r(o,l,d)),o.destroy(d),y}function r(o,l,a){const f=a.num_faces()*3,c=f*4,d=o._malloc(c);l.GetTrianglesUInt32Array(a,c,d);const A=new Uint32Array(o.HEAPF32.buffer,d,f).slice();return o._free(d),{array:A,itemSize:1}}function s(o,l,a,u,f,c){const d=c.num_components(),B=a.num_points()*d,y=B*f.BYTES_PER_ELEMENT,M=i(o,f),m=o._malloc(y);l.GetAttributeDataArrayForAllPoints(a,c,M,y,m);const p=new f(o.HEAPF32.buffer,m,B).slice();return o._free(m),{name:u,array:p,itemSize:d}}function i(o,l){switch(l){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let hs;const Wi=()=>{if(hs)return hs;const e="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",t="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=e;WebAssembly.validate(n)&&(s=t);let i;const o=WebAssembly.instantiate(l(s),{}).then(c=>{i=c.instance,i.exports.__wasm_call_ctors()});function l(c){const d=new Uint8Array(c.length);for(let B=0;B<c.length;++B){const y=c.charCodeAt(B);d[B]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let A=0;for(let B=0;B<c.length;++B)d[A++]=d[B]<60?r[d[B]]:(d[B]-60)*64+d[++B];return d.buffer.slice(0,A)}function a(c,d,A,B,y,M){const m=i.exports.sbrk,p=A+3&-4,h=m(p*B),E=m(y.length),g=new Uint8Array(i.exports.memory.buffer);g.set(y,E);const C=c(h,A,B,E,y.length);if(C===0&&M&&M(h,p,B),d.set(g.subarray(h,h+A*B)),m(h-m(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return hs={ready:o,supported:!0,decodeVertexBuffer(c,d,A,B,y){a(i.exports.meshopt_decodeVertexBuffer,c,d,A,B,i.exports[u[y]])},decodeIndexBuffer(c,d,A,B){a(i.exports.meshopt_decodeIndexBuffer,c,d,A,B)},decodeIndexSequence(c,d,A,B){a(i.exports.meshopt_decodeIndexSequence,c,d,A,B)},decodeGltfBuffer(c,d,A,B,y,M){a(i.exports[f[y]],c,d,A,B,i.exports[u[M]])}},hs};let ps=null;function Qd(e,t,n){return r=>{n&&n(r),e&&(ps||(ps=new Qm),ps.setDecoderPath(typeof e=="string"?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(ps)),t&&r.setMeshoptDecoder(typeof Wi=="function"?Wi():Wi)}}function jd(e,t=!0,n=!0,r){return ri($l,e,Qd(t,n,r))}jd.preload=(e,t=!0,n=!0,r)=>ri.preload($l,e,Qd(t,n,r));jd.clear=e=>ri.clear($l,e);function Ym(e,t,n){const{gl:r,size:s,viewport:i}=fe(),o=typeof e=="number"?e:s.width*i.dpr,l=typeof t=="number"?t:s.height*i.dpr,a=(typeof e=="number"?n:e)||{},{samples:u=0,depth:f,...c}=a,d=I.useMemo(()=>{let A;return A=new Qf(o,l,{minFilter:Nn,magFilter:Nn,encoding:r.outputEncoding,type:yn,...c}),f&&(A.depthTexture=new jf(o,l,Cs)),A.samples=u,A},[]);return I.useLayoutEffect(()=>{d.setSize(o,l),u&&(d.samples=u)},[u,d,o,l]),I.useEffect(()=>()=>d.dispose(),[]),d}const Xm=e=>typeof e=="function",lA=I.forwardRef(({envMap:e,resolution:t=256,frames:n=1/0,children:r,makeDefault:s,...i},o)=>{const l=fe(({set:M})=>M),a=fe(({camera:M})=>M),u=fe(({size:M})=>M),f=I.useRef(null),c=I.useRef(null),d=Ym(t);I.useLayoutEffect(()=>{i.manual||f.current.updateProjectionMatrix()},[u,i]),I.useLayoutEffect(()=>{f.current.updateProjectionMatrix()}),I.useLayoutEffect(()=>{if(s){const M=a;return l(()=>({camera:f.current})),()=>l(()=>({camera:M}))}},[f,s,l]);let A=0,B=null;const y=Xm(r);return ni(M=>{y&&(n===1/0||A<n)&&(c.current.visible=!1,M.gl.setRenderTarget(d),B=M.scene.background,e&&(M.scene.background=e),M.gl.render(M.scene,f.current),M.scene.background=B,M.gl.setRenderTarget(null),c.current.visible=!0,A++)}),I.createElement(I.Fragment,null,I.createElement("orthographicCamera",zr({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:dm([f,o])},i),!y&&r),I.createElement("group",{ref:c},y&&r(d.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ae={LEFT:1,RIGHT:2,MIDDLE:4},w=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function Vt(e){return e.isPerspectiveCamera}function _t(e){return e.isOrthographicCamera}const gn=Math.PI*2,yu=Math.PI/2,Yd=1e-5,lr=Math.PI/180;function Cn(e,t,n){return Math.max(t,Math.min(n,e))}function q(e,t=Yd){return Math.abs(e)<t}function b(e,t,n=Yd){return q(e-t,n)}function Eu(e,t){return Math.round(e/t)*t}function ar(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function ur(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function ms(e,t,n,r,s=1/0,i){r=Math.max(1e-4,r);const o=2/r,l=o*i,a=1/(1+l+.48*l*l+.235*l*l*l);let u=e-t;const f=t,c=s*r;u=Cn(u,-c,c),t=e-u;const d=(n.value+o*u)*i;n.value=(n.value-o*d)*a;let A=t+(u+d)*a;return f-e>0==A>f&&(A=f,n.value=(A-f)/i),A}function vu(e,t,n,r,s=1/0,i,o){r=Math.max(1e-4,r);const l=2/r,a=l*i,u=1/(1+a+.48*a*a+.235*a*a*a);let f=e.x-t.x,c=e.y-t.y,d=e.z-t.z;const A=t.x,B=t.y,y=t.z,M=s*r,m=M*M,p=f*f+c*c+d*d;if(p>m){const N=Math.sqrt(p);f=f/N*M,c=c/N*M,d=d/N*M}t.x=e.x-f,t.y=e.y-c,t.z=e.z-d;const h=(n.x+l*f)*i,E=(n.y+l*c)*i,g=(n.z+l*d)*i;n.x=(n.x-l*h)*u,n.y=(n.y-l*E)*u,n.z=(n.z-l*g)*u,o.x=t.x+(f+h)*u,o.y=t.y+(c+E)*u,o.z=t.z+(d+g)*u;const C=A-e.x,v=B-e.y,_=y-e.z,T=o.x-A,R=o.y-B,S=o.z-y;return C*T+v*R+_*S>0&&(o.x=A,o.y=B,o.z=y,n.x=(o.x-A)/i,n.y=(o.y-B)/i,n.z=(o.z-y)/i),o}function Zi(e,t){t.set(0,0),e.forEach(n=>{t.x+=n.clientX,t.y+=n.clientY}),t.x/=e.length,t.y/=e.length}function bi(e,t){return _t(e)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}class Vm{constructor(){this._listeners={}}addEventListener(t,n){const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n)}hasEventListener(t,n){const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(n)!==-1}removeEventListener(t,n){const s=this._listeners[t];if(s!==void 0){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){const r=this._listeners[t.type];if(r!==void 0){t.target=this;const s=r.slice(0);for(let i=0,o=s.length;i<o;i++)s[i].call(this,t)}}}const Wm="2.0.0",As=1/8,Xd=typeof window<"u",Zm=Xd&&/Mac/.test(navigator.platform),_u=!(Xd&&"PointerEvent"in window);let O,Mu,gs,qi,_e,k,z,Bn,nt,rt,Wt,Tu,Fu,je,cr,Un,Su,$i,wu,eo,to,Bs,no=class extends Vm{static install(t){O=t.THREE,Mu=Object.freeze(new O.Vector3(0,0,0)),gs=Object.freeze(new O.Vector3(0,1,0)),qi=Object.freeze(new O.Vector3(0,0,1)),_e=new O.Vector2,k=new O.Vector3,z=new O.Vector3,Bn=new O.Vector3,nt=new O.Vector3,rt=new O.Vector3,Wt=new O.Vector3,Tu=new O.Vector3,Fu=new O.Vector3,je=new O.Spherical,cr=new O.Spherical,Un=new O.Box3,Su=new O.Box3,$i=new O.Sphere,wu=new O.Quaternion,eo=new O.Quaternion,to=new O.Matrix4,Bs=new O.Raycaster}static get ACTION(){return w}constructor(t,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=w.NONE,this._viewport=null,this._affectOffset=!1,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._isLastDragging=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new O.Vector3,this._focalOffsetVelocity=new O.Vector3,this._zoomVelocity={value:0},this._truckInternal=(g,C,v)=>{if(Vt(this._camera)){const _=k.copy(this._camera.position).sub(this._target),T=this._camera.getEffectiveFOV()*lr,R=_.length()*Math.tan(T*.5),S=this.truckSpeed*g*R/this._elementRect.height,N=this.truckSpeed*C*R/this._elementRect.height;this.verticalDragToForward?(v?this.setFocalOffset(this._focalOffsetEnd.x+S,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(S,0,!0),this.forward(-N,!0)):v?this.setFocalOffset(this._focalOffsetEnd.x+S,this._focalOffsetEnd.y+N,this._focalOffsetEnd.z,!0):this.truck(S,N,!0)}else if(_t(this._camera)){const _=this._camera,T=g*(_.right-_.left)/_.zoom/this._elementRect.width,R=C*(_.top-_.bottom)/_.zoom/this._elementRect.height;v?this.setFocalOffset(this._focalOffsetEnd.x+T,this._focalOffsetEnd.y+R,this._focalOffsetEnd.z,!0):this.truck(T,R,!0)}},this._rotateInternal=(g,C)=>{const v=gn*this.azimuthRotateSpeed*g/this._elementRect.height,_=gn*this.polarRotateSpeed*C/this._elementRect.height;this.rotate(v,_,!0)},this._dollyInternal=(g,C,v)=>{const _=Math.pow(.95,-g*this.dollySpeed),T=this._sphericalEnd.radius*_,R=this._sphericalEnd.radius,S=R*(g>=0?-1:1);this.dollyTo(T),this.infinityDolly&&(T<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(k),this._targetEnd.add(k.normalize().multiplyScalar(S)),this._target.add(k.normalize().multiplyScalar(S))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-R,this.infinityDolly&&(T<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=S),this._dollyControlCoord.set(C,v))},this._zoomInternal=(g,C,v)=>{const _=Math.pow(.95,g*this.dollySpeed),T=this._zoomEnd;this.zoomTo(this._zoom*_),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-T,this._dollyControlCoord.set(C,v))},typeof O>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new O.Quaternion().setFromUnitVectors(this._camera.up,gs),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=w.NONE,this._target=new O.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new O.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new O.Spherical().setFromVector3(k.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new O.Vector3,new O.Vector3,new O.Vector3,new O.Vector3],this._updateNearPlaneCorners(),this._boundary=new O.Box3(new O.Vector3(-1/0,-1/0,-1/0),new O.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new O.Vector2,this.mouseButtons={left:w.ROTATE,middle:w.DOLLY,right:w.TRUCK,wheel:Vt(this._camera)?w.DOLLY:_t(this._camera)?w.ZOOM:w.NONE},this.touches={one:w.TOUCH_ROTATE,two:Vt(this._camera)?w.TOUCH_DOLLY_TRUCK:_t(this._camera)?w.TOUCH_ZOOM_TRUCK:w.NONE,three:w.TOUCH_TRUCK};const r=new O.Vector2,s=new O.Vector2,i=new O.Vector2,o=g=>{if(!this._enabled||!this._domElement)return;const C={pointerId:g.pointerId,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),p(g)},l=g=>{if(!this._enabled||!this._domElement)return;const C={pointerId:0,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("mousemove",f),this._domElement.ownerDocument.removeEventListener("mouseup",A),this._domElement.ownerDocument.addEventListener("mousemove",f),this._domElement.ownerDocument.addEventListener("mouseup",A),p(g)},a=g=>{!this._enabled||!this._domElement||(g.preventDefault(),Array.prototype.forEach.call(g.changedTouches,C=>{const v={pointerId:C.identifier,clientX:C.clientX,clientY:C.clientY,deltaX:0,deltaY:0};this._activePointers.push(v)}),this._domElement.ownerDocument.removeEventListener("touchmove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",B),this._domElement.ownerDocument.addEventListener("touchmove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",B),p(g))},u=g=>{g.cancelable&&g.preventDefault();const C=g.pointerId,v=this._findPointerById(C);if(v){if(v.clientX=g.clientX,v.clientY=g.clientY,v.deltaX=g.movementX,v.deltaY=g.movementY,g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(g.buttons&ae.LEFT)===ae.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right);h()}},f=g=>{const C=this._findPointerById(0);C&&(C.clientX=g.clientX,C.clientY=g.clientY,C.deltaX=g.movementX,C.deltaY=g.movementY,this._state=0,(g.buttons&ae.LEFT)===ae.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right),h())},c=g=>{g.cancelable&&g.preventDefault(),Array.prototype.forEach.call(g.changedTouches,C=>{const v=C.identifier,_=this._findPointerById(v);_&&(_.clientX=C.clientX,_.clientY=C.clientY)}),h()},d=g=>{const C=g.pointerId,v=this._findPointerById(C);if(v&&this._activePointers.splice(this._activePointers.indexOf(v),1),g.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=w.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=w.NONE;E()},A=()=>{const g=this._findPointerById(0);g&&this._activePointers.splice(this._activePointers.indexOf(g),1),this._state=w.NONE,E()},B=g=>{switch(Array.prototype.forEach.call(g.changedTouches,C=>{const v=C.identifier,_=this._findPointerById(v);_&&this._activePointers.splice(this._activePointers.indexOf(_),1)}),this._activePointers.length){case 0:this._state=w.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}E()};let y=-1;const M=g=>{if(!this._enabled||this.mouseButtons.wheel===w.NONE)return;if(g.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===w.ROTATE||this.mouseButtons.wheel===w.TRUCK){const R=performance.now();y-R<1e3&&this._getClientRect(this._elementRect),y=R}const C=Zm?-1:-3,v=g.deltaMode===1?g.deltaY/C:g.deltaY/(C*10),_=this.dollyToCursor?(g.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(g.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case w.ROTATE:{this._rotateInternal(g.deltaX,g.deltaY);break}case w.TRUCK:{this._truckInternal(g.deltaX,g.deltaY,!1);break}case w.OFFSET:{this._truckInternal(g.deltaX,g.deltaY,!0);break}case w.DOLLY:{this._dollyInternal(-v,_,T);break}case w.ZOOM:{this._zoomInternal(-v,_,T);break}}this.dispatchEvent({type:"control"})},m=g=>{this._enabled&&g.preventDefault()},p=g=>{if(!this._enabled)return;if(Zi(this._activePointers,_e),this._getClientRect(this._elementRect),r.copy(_e),s.copy(_e),this._activePointers.length>=2){const v=_e.x-this._activePointers[1].clientX,_=_e.y-this._activePointers[1].clientY,T=Math.sqrt(v*v+_*_);i.set(0,T);const R=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,S=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;s.set(R,S)}if("touches"in g||"pointerType"in g&&g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(g.buttons&ae.LEFT)===ae.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right);this.dispatchEvent({type:"controlstart"})},h=()=>{if(!this._enabled)return;Zi(this._activePointers,_e);const g=this._domElement&&document.pointerLockElement===this._domElement,C=g?-this._activePointers[0].deltaX:s.x-_e.x,v=g?-this._activePointers[0].deltaY:s.y-_e.y;if(s.copy(_e),((this._state&w.ROTATE)===w.ROTATE||(this._state&w.TOUCH_ROTATE)===w.TOUCH_ROTATE||(this._state&w.TOUCH_DOLLY_ROTATE)===w.TOUCH_DOLLY_ROTATE||(this._state&w.TOUCH_ZOOM_ROTATE)===w.TOUCH_ZOOM_ROTATE)&&this._rotateInternal(C,v),(this._state&w.DOLLY)===w.DOLLY||(this._state&w.ZOOM)===w.ZOOM){const _=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&w.DOLLY)===w.DOLLY?this._dollyInternal(v*As,_,T):this._zoomInternal(v*As,_,T)}if((this._state&w.TOUCH_DOLLY)===w.TOUCH_DOLLY||(this._state&w.TOUCH_ZOOM)===w.TOUCH_ZOOM||(this._state&w.TOUCH_DOLLY_TRUCK)===w.TOUCH_DOLLY_TRUCK||(this._state&w.TOUCH_ZOOM_TRUCK)===w.TOUCH_ZOOM_TRUCK||(this._state&w.TOUCH_DOLLY_OFFSET)===w.TOUCH_DOLLY_OFFSET||(this._state&w.TOUCH_ZOOM_OFFSET)===w.TOUCH_ZOOM_OFFSET||(this._state&w.TOUCH_DOLLY_ROTATE)===w.TOUCH_DOLLY_ROTATE||(this._state&w.TOUCH_ZOOM_ROTATE)===w.TOUCH_ZOOM_ROTATE){const _=_e.x-this._activePointers[1].clientX,T=_e.y-this._activePointers[1].clientY,R=Math.sqrt(_*_+T*T),S=i.y-R;i.set(0,R);const N=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,Z=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&w.TOUCH_DOLLY)===w.TOUCH_DOLLY||(this._state&w.TOUCH_DOLLY_ROTATE)===w.TOUCH_DOLLY_ROTATE||(this._state&w.TOUCH_DOLLY_TRUCK)===w.TOUCH_DOLLY_TRUCK||(this._state&w.TOUCH_DOLLY_OFFSET)===w.TOUCH_DOLLY_OFFSET?this._dollyInternal(S*As,N,Z):this._zoomInternal(S*As,N,Z)}((this._state&w.TRUCK)===w.TRUCK||(this._state&w.TOUCH_TRUCK)===w.TOUCH_TRUCK||(this._state&w.TOUCH_DOLLY_TRUCK)===w.TOUCH_DOLLY_TRUCK||(this._state&w.TOUCH_ZOOM_TRUCK)===w.TOUCH_ZOOM_TRUCK)&&this._truckInternal(C,v,!1),((this._state&w.OFFSET)===w.OFFSET||(this._state&w.TOUCH_OFFSET)===w.TOUCH_OFFSET||(this._state&w.TOUCH_DOLLY_OFFSET)===w.TOUCH_DOLLY_OFFSET||(this._state&w.TOUCH_ZOOM_OFFSET)===w.TOUCH_ZOOM_OFFSET)&&this._truckInternal(C,v,!0),this.dispatchEvent({type:"control"})},E=()=>{Zi(this._activePointers,_e),s.copy(_e),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("touchmove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",B),this.dispatchEvent({type:"controlend"}))};this._addAllEventListeners=g=>{this._domElement=g,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),_u&&this._domElement.addEventListener("mousedown",l),_u&&this._domElement.addEventListener("touchstart",a),this._domElement.addEventListener("pointercancel",d),this._domElement.addEventListener("wheel",M,{passive:!1}),this._domElement.addEventListener("contextmenu",m)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",l),this._domElement.removeEventListener("touchstart",a),this._domElement.removeEventListener("pointercancel",d),this._domElement.removeEventListener("wheel",M,{passive:!1}),this._domElement.removeEventListener("contextmenu",m),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",f),this._domElement.ownerDocument.removeEventListener("touchmove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",A),this._domElement.ownerDocument.removeEventListener("touchend",B))},this.cancel=()=>{this._state!==w.NONE&&(this._state=w.NONE,this._activePointers.length=0,E())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._domElement&&(this._enabled=t,t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}addEventListener(t,n){super.addEventListener(t,n)}removeEventListener(t,n){super.removeEventListener(t,n)}rotate(t,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(t,n=!1){return this.rotateTo(t,this._sphericalEnd.phi,n)}rotatePolarTo(t,n=!1){return this.rotateTo(this._sphericalEnd.theta,t,n)}rotateTo(t,n,r=!1){const s=Cn(t,this.minAzimuthAngle,this.maxAzimuthAngle),i=Cn(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||b(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&b(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(t,n=!1){return this.dollyTo(this._sphericalEnd.radius-t,n)}dollyTo(t,n=!1){const r=this._sphericalEnd.radius,s=Cn(t,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const l=this._collisionTest(),a=b(l,this._spherical.radius);if(!(r>s)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(s,l)}else this._sphericalEnd.radius=s;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const o=!n||b(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(o)}zoom(t,n=!1){return this.zoomTo(this._zoomEnd+t,n)}zoomTo(t,n=!1){this._zoomEnd=Cn(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||b(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(r)}pan(t,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,n,r)}truck(t,n,r=!1){this._camera.updateMatrix(),nt.setFromMatrixColumn(this._camera.matrix,0),rt.setFromMatrixColumn(this._camera.matrix,1),nt.multiplyScalar(t),rt.multiplyScalar(-n);const s=k.copy(nt).add(rt),i=z.copy(this._targetEnd).add(s);return this.moveTo(i.x,i.y,i.z,r)}forward(t,n=!1){k.setFromMatrixColumn(this._camera.matrix,0),k.crossVectors(this._camera.up,k),k.multiplyScalar(t);const r=z.copy(this._targetEnd).add(k);return this.moveTo(r.x,r.y,r.z,n)}moveTo(t,n,r,s=!1){const i=k.set(t,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,s||this._target.copy(this._targetEnd);const o=!s||b(this._target.x,this._targetEnd.x,this.restThreshold)&&b(this._target.y,this._targetEnd.y,this.restThreshold)&&b(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(t,n,r,s=!1){const l=k.set(t,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(l.x,l.y,l.z,s)}fitToBox(t,n,{cover:r=!1,paddingLeft:s=0,paddingRight:i=0,paddingBottom:o=0,paddingTop:l=0}={}){const a=[],u=t.isBox3?Un.copy(t):Un.setFromObject(t);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const f=Eu(this._sphericalEnd.theta,yu),c=Eu(this._sphericalEnd.phi,yu);a.push(this.rotateTo(f,c,n));const d=k.setFromSpherical(this._sphericalEnd).normalize(),A=wu.setFromUnitVectors(d,qi),B=b(Math.abs(d.y),1);B&&A.multiply(eo.setFromAxisAngle(gs,f)),A.multiply(this._yAxisUpSpaceInverse);const y=Su.makeEmpty();z.copy(u.min).applyQuaternion(A),y.expandByPoint(z),z.copy(u.min).setX(u.max.x).applyQuaternion(A),y.expandByPoint(z),z.copy(u.min).setY(u.max.y).applyQuaternion(A),y.expandByPoint(z),z.copy(u.max).setZ(u.min.z).applyQuaternion(A),y.expandByPoint(z),z.copy(u.min).setZ(u.max.z).applyQuaternion(A),y.expandByPoint(z),z.copy(u.max).setY(u.min.y).applyQuaternion(A),y.expandByPoint(z),z.copy(u.max).setX(u.min.x).applyQuaternion(A),y.expandByPoint(z),z.copy(u.max).applyQuaternion(A),y.expandByPoint(z),y.min.x-=s,y.min.y-=o,y.max.x+=i,y.max.y+=l,A.setFromUnitVectors(qi,d),B&&A.premultiply(eo.invert()),A.premultiply(this._yAxisUpSpace);const M=y.getSize(k),m=y.getCenter(z).applyQuaternion(A);if(Vt(this._camera)){const p=this.getDistanceToFitBox(M.x,M.y,M.z,r);a.push(this.moveTo(m.x,m.y,m.z,n)),a.push(this.dollyTo(p,n)),a.push(this.setFocalOffset(0,0,0,n))}else if(_t(this._camera)){const p=this._camera,h=p.right-p.left,E=p.top-p.bottom,g=r?Math.max(h/M.x,E/M.y):Math.min(h/M.x,E/M.y);a.push(this.moveTo(m.x,m.y,m.z,n)),a.push(this.zoomTo(g,n)),a.push(this.setFocalOffset(0,0,0,n))}return Promise.all(a)}fitToSphere(t,n){const r=[],i=t instanceof O.Sphere?$i.copy(t):bm(t,$i);if(r.push(this.moveTo(i.center.x,i.center.y,i.center.z,n)),Vt(this._camera)){const o=this.getDistanceToFitSphere(i.radius);r.push(this.dollyTo(o,n))}else if(_t(this._camera)){const o=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,a=2*i.radius,u=Math.min(o/a,l/a);r.push(this.zoomTo(u,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(t,n,r,s,i,o,l=!1){const a=z.set(s,i,o),u=k.set(t,n,r);this._targetEnd.copy(a),this._sphericalEnd.setFromVector3(u.sub(a).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const f=!l||b(this._target.x,this._targetEnd.x,this.restThreshold)&&b(this._target.y,this._targetEnd.y,this.restThreshold)&&b(this._target.z,this._targetEnd.z,this.restThreshold)&&b(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&b(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&b(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(f)}lerpLookAt(t,n,r,s,i,o,l,a,u,f,c,d,A,B=!1){const y=k.set(s,i,o),M=z.set(t,n,r);je.setFromVector3(M.sub(y).applyQuaternion(this._yAxisUpSpace));const m=Bn.set(f,c,d),p=z.set(l,a,u);cr.setFromVector3(p.sub(m).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(y.lerp(m,A));const h=cr.theta-je.theta,E=cr.phi-je.phi,g=cr.radius-je.radius;this._sphericalEnd.set(je.radius+g*A,je.phi+E*A,je.theta+h*A),this.normalizeRotations(),this._needsUpdate=!0,B||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const C=!B||b(this._target.x,this._targetEnd.x,this.restThreshold)&&b(this._target.y,this._targetEnd.y,this.restThreshold)&&b(this._target.z,this._targetEnd.z,this.restThreshold)&&b(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&b(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&b(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(C)}setPosition(t,n,r,s=!1){return this.setLookAt(t,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(t,n,r,s=!1){const i=this.getPosition(k),o=this.setLookAt(i.x,i.y,i.z,t,n,r,s);return this._sphericalEnd.phi=Cn(this.polarAngle,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(t,n,r,s=!1){this._focalOffsetEnd.set(t,n,r),this._needsUpdate=!0,s||this._focalOffset.copy(this._focalOffsetEnd),this._affectOffset=!q(t)||!q(n)||!q(r);const i=!s||b(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&b(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&b(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(t,n,r){this._camera.updateMatrixWorld(),nt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),rt.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Wt.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const s=k.set(t,n,r),i=s.distanceTo(this._camera.position),o=s.sub(this._camera.position);nt.multiplyScalar(o.x),rt.multiplyScalar(o.y),Wt.multiplyScalar(o.z),k.copy(nt).add(rt).add(Wt),k.z=k.z+i,this.dollyTo(i,!1),this.setFocalOffset(-k.x,k.y,-k.z,!1),this.moveTo(t,n,r,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,n,r,s){if(t===null){this._viewport=null;return}this._viewport=this._viewport||new O.Vector4,typeof t=="number"?this._viewport.set(t,n,r,s):this._viewport.copy(t)}getDistanceToFitBox(t,n,r,s=!1){if(bi(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const i=t/n,o=this._camera.getEffectiveFOV()*lr,l=this._camera.aspect;return((s?i>l:i<l)?n:t/l)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(t){if(bi(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*lr,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,s=1<this._camera.aspect?n:r;return t/Math.sin(s*.5)}getTarget(t){return(t&&t.isVector3?t:new O.Vector3).copy(this._targetEnd)}getPosition(t){return(t&&t.isVector3?t:new O.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(t){return(t&&t.isVector3?t:new O.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%gn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=gn),this._spherical.theta+=gn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/gn)}reset(t=!1){const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)];return Promise.all(n)}saveState(){this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,gs),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert}update(t){const n=this._state!==w.NONE,r=n!==this._isLastDragging;this._isLastDragging=n;const s=n?this.draggingSmoothTime:this.smoothTime;if(r&&n){const A=this.smoothTime/this.draggingSmoothTime;this._thetaVelocity.value*=A,this._phiVelocity.value*=A,this._radiusVelocity.value*=A,this._targetVelocity.multiplyScalar(A),this._focalOffsetVelocity.multiplyScalar(A),this._zoomVelocity.value*=A}else if(r&&!n){const A=this.draggingSmoothTime/this.smoothTime;this._thetaVelocity.value*=A,this._phiVelocity.value*=A,this._radiusVelocity.value*=A,this._targetVelocity.multiplyScalar(A),this._focalOffsetVelocity.multiplyScalar(A),this._zoomVelocity.value*=A}const i=this._sphericalEnd.theta-this._spherical.theta,o=this._sphericalEnd.phi-this._spherical.phi,l=this._sphericalEnd.radius-this._spherical.radius,a=Tu.subVectors(this._targetEnd,this._target),u=Fu.subVectors(this._focalOffsetEnd,this._focalOffset),f=this._zoomEnd-this._zoom;if(q(i)?(this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta):(this._spherical.theta=ms(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,s,1/0,t),this._needsUpdate=!0),q(o)?(this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi):(this._spherical.phi=ms(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,s,1/0,t),this._needsUpdate=!0),q(l)?(this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius):(this._spherical.radius=ms(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,s,this.maxSpeed,t),this._needsUpdate=!0),q(a.x)&&q(a.y)&&q(a.z)?(this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd)):(vu(this._target,this._targetEnd,this._targetVelocity,s,this.maxSpeed,t,this._target),this._needsUpdate=!0),q(u.x)&&q(u.y)&&q(u.z)?(this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd)):(vu(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,s,this.maxSpeed,t,this._focalOffset),this._needsUpdate=!0),this._dollyControlAmount!==0){if(Vt(this._camera)){const A=this._camera,B=k.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),y=z.copy(B).cross(A.up).normalize();y.lengthSq()===0&&(y.x=1);const M=Bn.crossVectors(y,B),m=this._sphericalEnd.radius*Math.tan(A.getEffectiveFOV()*lr*.5),h=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,E=k.copy(this._targetEnd).add(y.multiplyScalar(this._dollyControlCoord.x*m*A.aspect)).add(M.multiplyScalar(this._dollyControlCoord.y*m));this._targetEnd.lerp(E,h)}else if(_t(this._camera)){const A=this._camera,B=k.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(A.near+A.far)/(A.near-A.far)).unproject(A),y=z.set(0,0,-1).applyQuaternion(A.quaternion),M=Bn.copy(B).add(y.multiplyScalar(-B.dot(A.up))),p=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom,h=k.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),E=this._targetEnd.dot(h);this._targetEnd.lerp(M,p);const g=this._targetEnd.dot(h),C=h.multiplyScalar(g-E);this._targetEnd.sub(C)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}q(f)?(this._zoomVelocity.value=0,this._zoom=this._zoomEnd):this._zoom=ms(this._zoom,this._zoomEnd,this._zoomVelocity,this.smoothTime,1/0,t),this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),this._affectOffset&&(this._camera.updateMatrixWorld(),nt.setFromMatrixColumn(this._camera.matrix,0),rt.setFromMatrixColumn(this._camera.matrix,1),Wt.setFromMatrixColumn(this._camera.matrix,2),nt.multiplyScalar(this._focalOffset.x),rt.multiplyScalar(-this._focalOffset.y),Wt.multiplyScalar(this._focalOffset.z),k.copy(nt).add(rt).add(Wt),this._camera.position.add(k)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),k.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),q(i,this.restThreshold)&&q(o,this.restThreshold)&&q(l,this.restThreshold)&&q(a.x,this.restThreshold)&&q(a.y,this.restThreshold)&&q(a.z,this.restThreshold)&&q(u.x,this.restThreshold)&&q(u.y,this.restThreshold)&&q(u.z,this.restThreshold)&&q(f,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:ar(this.maxDistance),minZoom:this.minZoom,maxZoom:ar(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:ar(this.maxPolarAngle),minAzimuthAngle:ar(this.minAzimuthAngle),maxAzimuthAngle:ar(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:k.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,n=!1){const r=JSON.parse(t),s=k.fromArray(r.position);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=ur(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=ur(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=ur(r.maxPolarAngle),this.minAzimuthAngle=ur(r.minAzimuthAngle),this.maxAzimuthAngle=ur(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),je.setFromVector3(s.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(je.theta,je.phi,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(t){if(this._domElement){console.warn("camera-controls is already connected.");return}t.setAttribute("data-camera-controls-version",Wm),this._addAllEventListeners(t)}disconnect(){this._removeAllEventListeners(),this._domElement=void 0}dispose(){this.disconnect(),this._domElement&&"setAttribute"in this._domElement&&this._domElement.removeAttribute("data-camera-controls-version")}_findPointerById(t){let n=null;return this._activePointers.some(r=>r.pointerId===t?(n=r,!0):!1),n}_encloseToBoundary(t,n,r){const s=n.lengthSq();if(s===0)return t;const i=z.copy(n).add(t),l=this._boundary.clampPoint(i,Bn).sub(i),a=l.lengthSq();if(a===0)return t.add(n);if(a===s)return t;if(r===0)return t.add(n).add(l);{const u=1+r*a/n.dot(l);return t.add(z.copy(n).multiplyScalar(u)).add(l.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(Vt(this._camera)){const t=this._camera,n=t.near,r=t.getEffectiveFOV()*lr,s=Math.tan(r*.5)*n,i=s*t.aspect;this._nearPlaneCorners[0].set(-i,-s,0),this._nearPlaneCorners[1].set(i,-s,0),this._nearPlaneCorners[2].set(i,s,0),this._nearPlaneCorners[3].set(-i,s,0)}else if(_t(this._camera)){const t=this._camera,n=1/t.zoom,r=t.left*n,s=t.right*n,i=t.top*n,o=t.bottom*n;this._nearPlaneCorners[0].set(r,i,0),this._nearPlaneCorners[1].set(s,i,0),this._nearPlaneCorners[2].set(s,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||bi(this._camera,"_collisionTest"))return t;const r=k.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);to.lookAt(Mu,r,this._camera.up);for(let s=0;s<4;s++){const i=z.copy(this._nearPlaneCorners[s]);i.applyMatrix4(to);const o=Bn.addVectors(this._target,i);Bs.set(o,r),Bs.far=this._spherical.radius+1;const l=Bs.intersectObjects(this.colliderMeshes);l.length!==0&&l[0].distance<t&&(t=l[0].distance)}return t}_getClientRect(t){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return t.x=n.left,t.y=n.top,this._viewport?(t.x+=this._viewport.x,t.y+=n.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=n.width,t.height=n.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(t){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(t){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(t){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}};function bm(e,t){const n=t,r=n.center;Un.makeEmpty(),e.traverseVisible(i=>{i.isMesh&&Un.expandByObject(i)}),Un.getCenter(r);let s=0;return e.traverseVisible(i=>{if(!i.isMesh)return;const o=i,l=o.geometry.clone();if(l.applyMatrix4(o.matrixWorld),l.isBufferGeometry){const u=l.attributes.position;for(let f=0,c=u.count;f<c;f++)k.fromBufferAttribute(u,f),s=Math.max(s,r.distanceToSquared(k))}else{const a=l.attributes.position;for(let u=0,f=a.count;u<f;u++)k.fromBufferAttribute(a,u),s=Math.max(s,r.distanceToSquared(k))}}),n.radius=Math.sqrt(s),n}const uA=I.forwardRef((e,t)=>{I.useMemo(()=>{no.install({THREE:Yf}),Ru({CameraControlsImpl:no})},[]);const{camera:n,domElement:r,makeDefault:s,onStart:i,onEnd:o,onChange:l,events:a,regress:u,...f}=e,c=fe(C=>C.camera),d=fe(C=>C.gl),A=fe(C=>C.invalidate),B=fe(C=>C.events),y=fe(C=>C.setEvents),M=fe(C=>C.set),m=fe(C=>C.get),p=fe(C=>C.performance),h=n||c,E=r||B.connected||d.domElement,g=I.useMemo(()=>new no(h),[h]);return ni((C,v)=>{g.enabled&&g.update(v)},-1),I.useEffect(()=>(g.connect(E),()=>void g.disconnect()),[E,g]),I.useEffect(()=>{a&&y({enabled:!0});const C=T=>{A(),u&&p.regress(),l&&l(T)},v=T=>{i&&i(T),a||y({enabled:!1})},_=T=>{o&&o(T),a||y({enabled:!0})};return g.addEventListener("update",C),g.addEventListener("controlstart",v),g.addEventListener("controlend",_),()=>{g.removeEventListener("update",C),g.removeEventListener("controlstart",v),g.removeEventListener("controlend",_)}},[g,a,i,o,A,y,u,l]),I.useEffect(()=>{if(s){const C=m().controls;return M({controls:g}),()=>M({controls:C})}},[s,g]),I.createElement("primitive",zr({ref:t,object:g},f))});function qm(e){const t=e+"Geometry";return I.forwardRef(({args:n,children:r,...s},i)=>I.createElement("mesh",zr({ref:i},s),I.createElement(t,{attach:"geometry",args:n}),r))}const cA=qm("plane"),ro={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},$m="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",eA=e=>e.current&&e.current.isScene,tA=e=>eA(e)?e.current:e;function ea(e,t,n,r,s=0){const i=tA(t||n),o=i.background,l=i.environment,a=i.backgroundBlurriness||0;return e!=="only"&&(i.environment=r),e&&(i.background=r),e&&i.backgroundBlurriness!==void 0&&(i.backgroundBlurriness=s),()=>{e!=="only"&&(i.environment=l),e&&(i.background=o),e&&i.backgroundBlurriness!==void 0&&(i.backgroundBlurriness=a)}}function ta({scene:e,background:t=!1,blur:n,map:r}){const s=fe(i=>i.scene);return I.useLayoutEffect(()=>{if(r)return ea(t,e,s,r,n)},[s,e,r,t,n]),null}function Vd({files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:n=void 0,encoding:r=void 0,extensions:s}){if(n){if(!(n in ro))throw new Error("Preset must be one of: "+Object.keys(ro).join(", "));e=ro[n],t=$m}const i=Array.isArray(e),l=ri(i?Wf:zm,i?[e]:e,u=>{u.setPath(t),s&&s(u)}),a=i?l[0]:l;return a.mapping=i?Zf:bf,a.encoding=r??i?Ut:Pu,a}function Wd({background:e=!1,scene:t,blur:n,...r}){const s=Vd(r),i=fe(o=>o.scene);return I.useLayoutEffect(()=>ea(e,t,i,s,n),[s,e,t,i,n]),null}function nA({children:e,near:t=1,far:n=1e3,resolution:r=256,frames:s=1,map:i,background:o=!1,blur:l,scene:a,files:u,path:f,preset:c=void 0,extensions:d}){const A=fe(h=>h.gl),B=fe(h=>h.scene),y=I.useRef(null),[M]=I.useState(()=>new Xf),m=I.useMemo(()=>{const h=new Vf(r);return h.texture.type=yn,h},[r]);I.useLayoutEffect(()=>(s===1&&y.current.update(A,M),ea(o,a,B,m.texture,l)),[e,M,m.texture,a,B,o,s,A]);let p=1;return ni(()=>{(s===1/0||p<s)&&(y.current.update(A,M),p++)}),I.createElement(I.Fragment,null,rf(I.createElement(I.Fragment,null,e,I.createElement("cubeCamera",{ref:y,args:[t,n,m]}),u||c?I.createElement(Wd,{background:!0,files:u,preset:c,path:f,extensions:d}):i?I.createElement(ta,{background:!0,map:i,extensions:d}):null),M))}function rA(e){var t,n,r,s;const i=Vd(e),o=e.map||i;I.useMemo(()=>Ru({GroundProjectedEnvImpl:hm}),[]);const l=I.useMemo(()=>[o],[o]),a=(t=e.ground)==null?void 0:t.height,u=(n=e.ground)==null?void 0:n.radius,f=(r=(s=e.ground)==null?void 0:s.scale)!==null&&r!==void 0?r:1e3;return I.createElement(I.Fragment,null,I.createElement(ta,zr({},e,{map:o})),I.createElement("groundProjectedEnvImpl",{args:l,scale:f,height:a,radius:u}))}function dA(e){return e.ground?I.createElement(rA,e):e.map?I.createElement(ta,e):e.children?I.createElement(nA,e):I.createElement(Wd,e)}export{uA as C,dA as E,oA as H,lA as O,cA as P,no as a,Ud as c,jd as u};
